(function(t){function e(e){for(var a,o,n=e[0],l=e[1],c=e[2],m=0,u=[];m<n.length;m++)o=n[m],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&u.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(u.length)u.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,n=1;n<s.length;n++){var l=s[n];0!==r[l]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},r={app:0},i=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=l;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0c35":function(t,e){function s(){var t=new Date,e=t.getHours(),s=t.getMinutes(),a=t.getSeconds(),r="AM";0==e&&(e=12),e>12&&(e-=12,r="PM"),e=e<10?"0"+e:e,s=s<10?"0"+s:s,a=a<10?"0"+a:a;var i=e+":"+s+":"+a+" "+r;document.getElementById("MyClockDisplay").innerText=i,document.getElementById("MyClockDisplay").textContent=i}setInterval((function(){s()}),1e3)},"12f3":function(t,e,s){},1426:function(t,e,s){"use strict";s("9560")},"2ca5":function(t,e,s){"use strict";s("ce54")},"4dfd":function(t,e,s){},5408:function(t,e,s){"use strict";s("9b93")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a,r,i,o,n,l,c,d,m,u,p,v,_,f,h,g,b,y,w,$,C=s("2b0e"),x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view",{key:t.$route.fullPath})],1)},k=[],S={name:"App"},A=S,P=s("2877"),E=Object(P["a"])(A,x,k,!1,null,null,null),N=E.exports,L=s("8c4f"),U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("navbarHome"),s("div",{staticClass:"container",staticStyle:{"padding-bottom":"20px"}},[t._m(0),t.Forums?s("div",{staticClass:"container-fluid",attrs:{id:"favorite_arc"}},[s("div",{staticClass:"row",attrs:{id:"all_favorite_arc"}},[t._l(t.Forums,(function(e){return s("div",{key:e._id,staticClass:"col-3",staticStyle:{"margin-bottom":"32px"},on:{click:function(s){return t.forumpage(e._id)}}},[s("div",{staticClass:"card",attrs:{id:"favorite_arc_card"}},[s("img",{staticClass:"card-img-top",attrs:{id:"favorite_arc_card_image",src:e.image_path}}),s("div",{staticClass:"card-body",style:{"border-top-color":t.forumcolor(e.type)},attrs:{id:"favorite_arc_card_body"}},[s("div",{style:{"background-color":t.forumcolor(e.type)},attrs:{id:"favorite_arc_card_type_box"}},[t._v(t._s(t.forumtype(e.type)))]),s("p",{staticClass:"card-text",attrs:{id:"favorite_arc_card_text"}},[t._v(t._s(e.topic))])])])])})),s("center",[t.Forums?t._e():s("p",{attrs:{id:"favorite_arc_title"}},[t._v("ไม่มีข่าวประชาสัมพันธ์ใดๆ")])])],2)]):t._e(),t._m(1),t._m(2),t._m(3)]),t._m(4)],1)},I=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-10",attrs:{id:"article"}},[s("p",[s("a",{attrs:{href:""}},[t._v("บทความยอดนิยม"),s("br"),s("br")])])]),s("div",{staticClass:"col-md-2",staticStyle:{"text-align":"right"},attrs:{id:"news"}},[s("p",[s("a",{attrs:{href:"/forum"}},[s("br"),s("i",[t._v("ดูข่าวประชาสัมพันธ์")]),s("br")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-10",attrs:{id:"problem"}},[s("p",[s("a",{attrs:{href:""}},[s("br"),t._v("ปัญหาที่พบบ่อย"),s("br")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-md-4"},[s("p",[s("a",{attrs:{href:""}},[s("br"),s("span",[t._v("01"),s("br"),t._v("การแจ้งขอทุนการศึกษาล่าช้า")]),s("br"),s("br")])])]),s("div",{staticClass:"col-md-4"},[s("p",[s("a",{attrs:{href:""}},[s("br"),s("span",[t._v("02"),s("br"),t._v("ติดโปร (Probation) ต้องทำยังไง")]),s("br"),s("br")])])]),s("div",{staticClass:"col-md-4"},[s("p",[s("a",{attrs:{href:""}},[s("br"),s("span",[t._v("03"),s("br"),t._v("วิชาเลือกที่แนะนำมีอะไรบ้าง")]),s("br"),s("br")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-md-4"},[s("p",[s("a",{attrs:{href:""}},[s("br"),s("span",[t._v("04"),s("br"),t._v("ห้องน้ำ IT สะอาดเกินไป")]),s("br"),s("br")])])]),s("div",{staticClass:"col-md-4"},[s("p",[s("a",{attrs:{href:""}},[s("br"),s("span",[t._v("05"),s("br"),t._v("เสียงก่อสร้างรบกวนการเรียนครับ")]),s("br"),s("br")])])]),s("div",{staticClass:"col-md-4"},[s("p",[s("a",{attrs:{href:""}},[s("br"),s("span",[t._v("06"),s("br"),t._v("ผมขอ "),s("span",{attrs:{id:"A"}},[t._v("A")]),t._v(" Webpro เถอะครับ")]),s("br"),s("br")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"copyright text-white",staticStyle:{"font-weight":"200"}},[t._v(" King Mongkut's Institute of technology Ladkrabang"),s("br"),t._v(" 1Chalong Krung 1 Alley, Lat Krabang Bangkok 10520"),s("br"),t._v(" 02 723 4900 ")])]),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"copyright",staticStyle:{padding:"20px",color:"#aaa",float:"right"}},[t._v(" Copyright © 2021 ExptionKMITL ")])])])])}],j=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},q=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"banner"},[s("div",{staticClass:"topnav"},[s("a",{attrs:{href:"/"}},[s("img",{staticStyle:{"padding-left":"20px"},attrs:{src:"/image/navbar/newlogo.png",width:"110px",height:"auto",alt:""}})]),s("ul",[s("div",{staticClass:"clock",attrs:{id:"MyClockDisplay"}}),s("li",{attrs:{id:"comp2"}},[s("a",{attrs:{href:"/login"}},[t._v("Log In")])]),s("div",{staticClass:"line"}),s("li",{attrs:{id:"comp2"}},[s("a",{attrs:{href:"/register"}},[t._v("Register")])])])]),s("div",{staticClass:"content"},[s("span",{attrs:{id:"line-1"}},[t._v("เคยไหม .....")]),s("br"),s("span",{attrs:{id:"line-2"}},[s("i",[t._v("เคยไหม ร้องเรียนปัญหาไปแล้วเรื่องไม่ถึงปลายทาง?"),s("br"),t._v(" เคยไหม ร้องเรียนปัญหาแล้วไม่ได้รับการแก้ไข?")]),s("br")]),s("span",{attrs:{id:"line-3"}},[t._v("มาร้องเรียนปัญหาผ่านทางเว็บไซต์เรา ปัญหาเหล่านั้นจะไม่เกิดขึ้นแน่นอน"),s("br"),t._v(" และสามารถติดตามสถานะของเรื่องร้องเรียนนั้นได้ด้วยตนเอง!")])]),s("div",{staticClass:"used"},[s("a",{attrs:{href:"/login",id:"apply"}},[t._v("ร้องเรียนปัญหา")]),s("a",{attrs:{href:"/login",id:"tracking"}},[t._v("ติดตามสถานะ")])])])}],R={},F=Object(P["a"])(R,j,q,!1,null,null,null),D=F.exports,O=s("852e"),M=s.n(O),z=s("0c35"),B=s("8785"),T=s("5184"),K=Object(T["a"])(a||(a=Object(B["a"])(["\n  mutation createUser($record: CreateOneUserInput!) {\n    createUser(record: $record) {\n      recordId\n    }\n  }\n"]))),H=Object(T["a"])(r||(r=Object(B["a"])(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      status\n      message\n      token\n      role\n    }\n  }\n"]))),W=Object(T["a"])(i||(i=Object(B["a"])(["\n  query currenUser {\n    currentUser {\n      studentid\n      _id\n    }\n  }\n"]))),Y=Object(T["a"])(o||(o=Object(B["a"])(["\n  mutation changePassword(\n    $_id: MongoID!\n    $old_password: String!\n    $new_password: String!\n  ) {\n    changePassword(\n      _id: $_id\n      old_password: $old_password\n      new_password: $new_password\n    ) {\n      status\n      message\n    }\n  }\n"]))),Z=Object(T["a"])(n||(n=Object(B["a"])(["\n  mutation createReport($record: CreateOneReportInput!) {\n    createReport(record: $record) {\n      recordId\n    }\n  }\n"]))),J=Object(T["a"])(l||(l=Object(B["a"])(["\n  query Reports($filter: FilterFindManyReportInput) {\n    Reports(filter: $filter) {\n      _id\n      topic\n      type\n      description\n      target\n      condition_of_submission\n      submission_status\n      createdAt\n    }\n  }\n"]))),V=Object(T["a"])(c||(c=Object(B["a"])(["\n  query Forums($limit: Int, $filter: FilterFindManyForumInput) {\n    Forums(limit: $limit, filter: $filter, sort: _ID_DESC) {\n      _id\n      topic\n      type\n      image_path\n      description\n    }\n  }\n"]))),G=Object(T["a"])(d||(d=Object(B["a"])(["\n  query Forums($filter: FilterFindManyForumInput) {\n    Forums(filter: $filter, sort: _ID_DESC) {\n      _id\n      topic\n      type\n      description\n      image_path\n      author_id\n      createdAt\n    }\n  }\n"]))),Q=Object(T["a"])(m||(m=Object(B["a"])(["\n  query currentAdmin {\n    currentAdmin {\n      _id\n      name\n      role_manage_admin_acc\n    }\n  }\n"]))),X=Object(T["a"])(u||(u=Object(B["a"])(["\n  query Users {\n    Users {\n      fname\n      lname\n      email\n      studentid\n      status\n      _id\n      createdAt\n    }\n  }\n"]))),tt=Object(T["a"])(p||(p=Object(B["a"])(["\n  mutation removeUser($deleteId: MongoID!) {\n    removeUser(_id: $deleteId) {\n      recordId\n    }\n  }\n"]))),et=Object(T["a"])(v||(v=Object(B["a"])(["\n  mutation updateUser($id: MongoID!, $data: UpdateByIdUserInput!) {\n    updateUser(_id: $id, record: $data) {\n      recordId\n    }\n  }\n"]))),st=Object(T["a"])(_||(_=Object(B["a"])(["\n  mutation updateForum($id: MongoID!, $data: UpdateByIdForumInput!) {\n    updateForum(_id: $id, record: $data) {\n      recordId\n    }\n  }\n"]))),at=Object(T["a"])(f||(f=Object(B["a"])(["\n  mutation updateReport($id: MongoID!, $record: UpdateByIdReportInput!) {\n    updateReport(_id: $id, record: $record) {\n      recordId\n    }\n  }\n"]))),rt=Object(T["a"])(h||(h=Object(B["a"])(["\n  mutation removeReport($id: MongoID!) {\n    removeReport(_id: $id) {\n      recordId\n    }\n  }\n"]))),it=Object(T["a"])(g||(g=Object(B["a"])(["\n  mutation createForum($data: CreateOneForumInput!) {\n    createForum(record: $data) {\n      recordId\n    }\n  }\n"]))),ot=Object(T["a"])(b||(b=Object(B["a"])(["\n  mutation removeForum($id: MongoID!) {\n      removeForum(_id: $id) {\n          recordId\n      }\n  }\n"]))),nt=Object(T["a"])(y||(y=Object(B["a"])(["\n  mutation resetPassword($email : String!) {\n      resetPassword(email: $email) {\n        status\n        message\n      }\n  }\n"]))),lt=Object(T["a"])(w||(w=Object(B["a"])(["\n  mutation checkPasscode($email : String!, $passcode : String!) {\n    checkPasscode(email: $email, passcode : $passcode) {\n      status\n      message\n    }\n  }\n"]))),ct=Object(T["a"])($||($=Object(B["a"])(["\n  mutation setNewPassword($email : String!, $password : String!) {\n    setNewPassword(email: $email, password : $password) {\n      status\n      message\n    }\n  }\n"]))),dt={data:function(){return{Forums:null,typecolor:{education:"#E35205",sociality:"#6BDCA8",environment:"#F5B406",register:"#DA8DFB",scholarship:"#3FAAF6"}}},apollo:{Forums:{query:V,variables:{limit:8}}},components:{navbarHome:D},beforeCreate:function(){z["time"]},created:function(){localStorage.removeItem("tokenAdmin"),localStorage.removeItem("tokenUser")},methods:{forumcolor:function(t){return"studying"==t?this.typecolor.education:"sociality"==t?this.typecolor.sociality:"environment"==t?this.typecolor.environment:"register_system"==t?this.typecolor.register:"scholarship"==t?this.typecolor.scholarship:void 0},forumtype:function(t){return"sociality"==t?"สภาพสังคม":"studying"==t?"การศึกษา":"scholarship"==t?"ทุนการศึกษา":"register_system"==t?"การลงทะเบียน":"environment"==t?"สภาพแวดล้อม":void 0},forumpage:function(t){window.location.href="/forum/page",M.a.set("forum_id",""+t),M.a.set("page","/")}}},mt=dt,ut=(s("6ccb"),Object(P["a"])(mt,U,I,!1,null,"58dd926f",null)),pt=ut.exports,vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"banner"},[s("div",{staticClass:"topnav"},[t._m(0),s("ul",[s("div",{staticClass:"clock",attrs:{id:"MyClockDisplay"}}),t._m(1),s("div",{staticClass:"dropdown"},[s("button",{staticClass:"btn btn-danger  dropdown-toggle",attrs:{id:"comp3",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[s("i",{staticClass:"fas fa-user"}),t._v(" "+t._s(t.currentUser.studentid)+" ")]),s("p",{staticClass:"dropdown-menu"},[s("button",{staticClass:"dropdown-item text-danger",attrs:{type:"button"},on:{click:function(e){t.modal_changepassword=!0}}},[t._v("เปลี่ยนรหัสผ่าน")]),s("button",{staticClass:"dropdown-item text-danger",attrs:{type:"button"},on:{click:function(e){return t.logout()}}},[t._v("ออกจากระบบ")])])])])]),t._m(2),t._m(3)]),s("div",{staticClass:"container",staticStyle:{"padding-bottom":"20px"}},[t._m(4),t.Forums?s("div",{staticClass:"container-fluid",attrs:{id:"favorite_arc"}},[s("div",{staticClass:"row",attrs:{id:"all_favorite_arc"}},[t._l(t.Forums,(function(e){return s("div",{key:e._id,staticClass:"col-3",staticStyle:{"margin-bottom":"32px"},on:{click:function(s){return t.forumpage(e._id)}}},[s("div",{staticClass:"card",attrs:{id:"favorite_arc_card"}},[s("img",{staticClass:"card-img-top",attrs:{id:"favorite_arc_card_image",src:e.image_path}}),s("div",{staticClass:"card-body",style:{"border-top-color":t.forumcolor(e.type)},attrs:{id:"favorite_arc_card_body"}},[s("div",{style:{"background-color":t.forumcolor(e.type)},attrs:{id:"favorite_arc_card_type_box"}},[t._v(t._s(t.forumtype(e.type)))]),s("p",{staticClass:"card-text",attrs:{id:"favorite_arc_card_text"}},[t._v(t._s(e.topic))])])])])})),s("center",[t.Forums?t._e():s("p",{attrs:{id:"favorite_arc_title"}},[t._v("ไม่มีข่าวประชาสัมพันธ์ใดๆ")])])],2)]):t._e(),t._m(5),t._m(6),t._m(7)]),s("div",{staticClass:"modal",class:{"is-active":t.modal_changepassword}},[s("div",{staticClass:"modal-background"}),s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head",staticStyle:{"background-color":"#F2F4F4"}},[s("p",{staticClass:"modal-card-title mt-2"},[t._v("Change Password")]),s("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(e){return t.resetmodal()}}})]),s("section",{staticClass:"modal-card-body mx-2",staticStyle:{"background-color":"#1C2833",color:"white"}},[s("form",{on:{submit:function(e){return e.preventDefault(),t.changepassword(e)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"currentPassword"}},[t._v("Confirm Current Password")]),s("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.$v.currentPassword.$model,expression:"$v.currentPassword.$model",modifiers:{trim:!0,lazy:!0}}],staticClass:"form-control",class:{"is-invalid":t.validationStatusError(t.$v.currentPassword),"is-valid":!t.$v.currentPassword.$invalid},attrs:{type:"password",id:"currentPassword"},domProps:{value:t.$v.currentPassword.$model},on:{change:function(e){t.$set(t.$v.currentPassword,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("a",{on:{click:function(e){return t.togglePassword3()}}},[s("span",{staticClass:"fa fa-fw fa-eye field-icon toggle-password"})]),s("div",{staticClass:"invalid-feedback",staticStyle:{"margin-top":"5px"}},[t.$v.currentPassword.required?t.$v.currentPassword.minLength?t._e():s("span",[t._v("Password ต้องไม่ต่ำกว่า 8 ตัว")]):s("span",[t._v("กรุณากรอกยืนยันรหัสผ่านปัจจุบัน")])])]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"Newpassword"}},[t._v("Your New Password")]),s("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.$v.Newpassword.$model,expression:"$v.Newpassword.$model",modifiers:{trim:!0,lazy:!0}}],staticClass:"form-control",class:{"is-invalid":t.validationStatusError(t.$v.Newpassword),"is-valid":!t.$v.Newpassword.$invalid},attrs:{type:"password",id:"Newpassword"},domProps:{value:t.$v.Newpassword.$model},on:{change:function(e){t.$set(t.$v.Newpassword,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("a",{on:{click:function(e){return t.togglePassword1()}}},[s("span",{staticClass:"fa fa-fw fa-eye field-icon toggle-password"})]),s("div",{staticClass:"invalid-feedback",staticStyle:{"margin-top":"5px"}},[t.$v.Newpassword.required?t.$v.Newpassword.minLength?t.$v.Newpassword.maxLength?t.$v.Newpassword.complex?t._e():s("span",[t._v("Password ง่ายเกินไป ควรมี A-Z หรือ a-z หรือ อักขระพิเศษ อย่างน้อย 1 ตัว")]):s("span",[t._v("Password ต้องไม่เกิน 255 ตัว")]):s("span",[t._v("Password ต้องไม่ต่ำกว่า 8 ตัว")]):s("span",[t._v("กรุณากรอกรหัสผ่าน")])])]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"repeatNewpassword"}},[t._v("Your Repeat New Password")]),s("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.$v.RepeatNewpassword.$model,expression:"$v.RepeatNewpassword.$model",modifiers:{trim:!0,lazy:!0}}],staticClass:"form-control",class:{"is-invalid":t.validationStatusError(t.$v.RepeatNewpassword),"is-valid":""!=t.Newpassword?!t.$v.RepeatNewpassword.$invalid:""},attrs:{type:"password",id:"repeatNewpassword"},domProps:{value:t.$v.RepeatNewpassword.$model},on:{change:function(e){t.$set(t.$v.RepeatNewpassword,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("a",{on:{click:function(e){return t.togglePassword2()}}},[s("span",{staticClass:"fa fa-fw fa-eye field-icon toggle-password"})]),s("div",{staticClass:"invalid-feedback",staticStyle:{"margin-top":"5px"}},[t.$v.RepeatNewpassword.required?t.$v.RepeatNewpassword.sameAspassword?t._e():s("span",[t._v("Password ไม่ตรงกัน")]):s("span",[t._v("กรุณากรอกรหัสผ่านอีกครั้ง")])])]),s("div",{staticClass:"form-group",staticStyle:{float:"right","margin-top":"5px","padding-right":"20px"}},[s("button",{staticClass:"btn btn-danger mr-3",attrs:{type:"submit"}},[t._v("Save Change")]),s("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.resetmodal()}}},[t._v("Cancel")])])])]),s("footer",{staticClass:"modal-card-foot",staticStyle:{"background-color":"#F2F4F4"}})])]),t._m(8)])},_t=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{attrs:{href:"/user"}},[s("img",{staticStyle:{"padding-left":"20px"},attrs:{src:"/image/navbar/newlogo.png",width:"110px",height:"auto",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"/user"}},[s("button",{staticClass:"home btn btn-outline-light",attrs:{type:"button"}},[t._v("Home")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("span",{attrs:{id:"line-1"}},[t._v("เคยไหม .....")]),s("br"),s("span",{attrs:{id:"line-2"}},[s("i",[t._v("เคยไหม ร้องเรียนปัญหาไปแล้วเรื่องไม่ถึงปลายทาง?"),s("br"),t._v(" เคยไหม ร้องเรียนปัญหาแล้วไม่ได้รับการแก้ไข?")]),s("br")]),s("span",{attrs:{id:"line-3"}},[t._v("มาร้องเรียนปัญหาผ่านทางเว็บไซต์เรา ปัญหาเหล่านั้นจะไม่เกิดขึ้นแน่นอน"),s("br"),t._v(" และสามารถติดตามสถานะของเรื่องร้องเรียนนั้นได้ด้วยตนเอง!")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"used"},[s("a",{attrs:{href:"/reportform",id:"apply"}},[t._v("ร้องเรียนปัญหา")]),s("a",{attrs:{href:"/trackingstatus",id:"tracking"}},[t._v("ติดตามสถานะ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-10",attrs:{id:"article"}},[s("p",[s("a",{attrs:{href:""}},[t._v("บทความหน้าแรก"),s("br"),s("br")])])]),s("div",{staticClass:"col-md-2",staticStyle:{"text-align":"right"},attrs:{id:"news"}},[s("p",[s("a",{attrs:{href:"/forum"}},[s("br"),s("i",[t._v("ดูข่าวประชาสัมพันธ์")]),s("br")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-10",attrs:{id:"problem"}},[s("p",[s("a",{attrs:{href:""}},[s("br"),t._v("ปัญหาที่พบบ่อย"),s("br")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-md-4"},[s("p",[s("a",{attrs:{href:""}},[s("br"),s("span",[t._v("01"),s("br"),t._v("การแจ้งขอทุนการศึกษาล่าช้า")]),s("br"),s("br")])])]),s("div",{staticClass:"col-md-4"},[s("p",[s("a",{attrs:{href:""}},[s("br"),s("span",[t._v("02"),s("br"),t._v("ติดโปร (Probation) ต้องทำยังไง")]),s("br"),s("br")])])]),s("div",{staticClass:"col-md-4"},[s("p",[s("a",{attrs:{href:""}},[s("br"),s("span",[t._v("03"),s("br"),t._v("วิชาเลือกที่แนะนำมีอะไรบ้าง")]),s("br"),s("br")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-md-4"},[s("p",[s("a",{attrs:{href:""}},[s("br"),s("span",[t._v("04"),s("br"),t._v("ห้องน้ำ IT สะอาดเกินไป")]),s("br"),s("br")])])]),s("div",{staticClass:"col-md-4"},[s("p",[s("a",{attrs:{href:""}},[s("br"),s("span",[t._v("05"),s("br"),t._v("เสียงก่อสร้างรบกวนการเรียนครับ")]),s("br"),s("br")])])]),s("div",{staticClass:"col-md-4"},[s("p",[s("a",{attrs:{href:""}},[s("br"),s("span",[t._v("06"),s("br"),t._v("ผมขอ "),s("span",{attrs:{id:"A"}},[t._v("A")]),t._v(" Fullstck เถอะครับ")]),s("br"),s("br")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-5"},[s("div",{staticClass:"copyright text-white",staticStyle:{"font-weight":"200"}},[t._v(" King Mongkut's Institute of technology Ladkrabang"),s("br"),t._v(" 1Chalong Krung 1 Alley, Lat Krabang Bangkok 10520"),s("br"),t._v(" 02 723 4900 ")])]),s("div",{staticClass:"offset-md-4 col-md-3"},[s("div",{staticClass:"copyright",staticStyle:{"padding-top":"20px",color:"#aaa"}},[t._v(" Copyright © 2021 ExptionKMITL ")])])])])}],ft=(s("466d"),s("ac1f"),s("b5ae"));function ht(t){return!!(t.match(/[a-z]/)&&t.match(/[A-Z]/)&&t.match(/[0-9]/))}var gt={data:function(){return{permission:null,tokenUser:null,tokenAdminError:null,currentUser:null,modal_changepassword:!1,Newpassword:"",RepeatNewpassword:"",currentPassword:"",Forums:null,typecolor:{education:"#E35205",sociality:"#6BDCA8",environment:"#F5B406",register:"#DA8DFB",scholarship:"#3FAAF6"}}},apollo:{currentUser:{query:W},Forums:{query:V,variables:{limit:8}}},validations:{Newpassword:{required:ft["required"],complex:ht,minLength:Object(ft["minLength"])(8),maxLength:Object(ft["maxLength"])(255)},RepeatNewpassword:{required:ft["required"],sameAspassword:Object(ft["sameAs"])("Newpassword")},currentPassword:{required:ft["required"],minLength:Object(ft["minLength"])(8)}},created:function(){this.tokenUser=M.a.get("tokenUser"),this.tokenAdminError=M.a.get("tokenAdmin"),this.tokenUser?this.permission="for user":this.tokenAdmin?(this.$swal({icon:"warning",title:"You can't access the user, you are the admin.! hahaha.",showConfirmButton:!0}),this.$router.push({name:"Admin"})):(this.$swal({icon:"warning",title:"กรุณาล็อกอินก่อนเข้าใช้งาน",showConfirmButton:!0}),M.a.remove("tokenUser"),M.a.remove("tokenAdmin"),this.$router.push({name:"Home"}))},methods:{logout:function(){M.a.remove("tokenUser"),M.a.remove("tokenAdmin"),this.$router.push({name:"Home"})},validationStatusError:function(t){return"undefined"!=typeof t&&t.$error},togglePassword1:function(){var t=document.getElementById("Newpassword");"password"===t.type?t.type="text":t.type="password"},togglePassword2:function(){var t=document.getElementById("repeatNewpassword");"password"===t.type?t.type="text":t.type="password"},togglePassword3:function(){var t=document.getElementById("currentPassword");"password"===t.type?t.type="text":t.type="password"},resetmodal:function(){this.modal_changepassword=!1,this.$v.$reset(),this.Newpassword="",this.RepeatNewpassword="",this.currentPassword=""},changepassword:function(){var t=this;this.$v.$touch(),this.$v.$pendding||this.$v.$error||this.$apollo.mutate({mutation:Y,variables:{_id:this.currentUser._id,old_password:this.currentPassword,new_password:this.Newpassword}}).then((function(e){"Success"==e.data.changePassword.status?(t.resetmodal(),t.$swal({icon:"success",title:"เปลี่ยนรหัสผ่านสำเร็จ",showConfirmButton:!1,timer:1500})):(t.resetmodal(),t.$swal({icon:"warning",title:"รหัสผ่านปัจจุบันไม่ถูกต้อง",showConfirmButton:!1,timer:2e3}))}))},forumcolor:function(t){return"studying"==t?this.typecolor.education:"sociality"==t?this.typecolor.sociality:"environment"==t?this.typecolor.environment:"register_system"==t?this.typecolor.register:"scholarship"==t?this.typecolor.scholarship:void 0},forumtype:function(t){return"sociality"==t?"สภาพสังคม":"studying"==t?"การศึกษา":"scholarship"==t?"ทุนการศึกษา":"register_system"==t?"การลงทะเบียน":"environment"==t?"สภาพแวดล้อม":void 0},forumpage:function(t){window.location.href="/forum/page",M.a.set("forum_id",""+t),M.a.set("page","/user")}}},bt=gt,yt=(s("7927"),Object(P["a"])(bt,vt,_t,!1,null,"3363ad8a",null)),wt=yt.exports,$t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"banner"},[s("div",{staticClass:"topnav"},[t._m(0),s("ul",[s("div",{staticClass:"clock",attrs:{id:"MyClockDisplay"}}),t.currentAdmin.role_manage_admin_acc?s("li",{attrs:{id:"comp1"}},[s("a",{attrs:{href:"/manageUser"}},[t._v("Manage User")])]):t._e(),t.currentAdmin.role_manage_admin_acc?s("li",{attrs:{id:"comp1"}},[s("a",{attrs:{href:"/manageforum"}},[t._v("Manage Forum")])]):t._e(),t.currentAdmin.role_manage_admin_acc?s("li",{attrs:{id:"comp1"}},[s("a",{attrs:{href:"/manageReport"}},[t._v("Manage Report")])]):t._e(),s("div",{staticClass:"dropdown"},[s("button",{staticClass:"btn btn-danger  dropdown-toggle",attrs:{id:"comp3",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[s("i",{staticClass:"fa fa-user-plus"}),t._v(" "+t._s(t.currentAdmin.name)+" ")]),s("p",{staticClass:"dropdown-menu"},[s("button",{staticClass:"dropdown-item text-danger",attrs:{type:"button"},on:{click:function(e){t.modal_changepassword=!0}}},[t._v("เปลี่ยนรหัสผ่าน")]),s("button",{staticClass:"dropdown-item text-danger",attrs:{type:"button"},on:{click:function(e){return t.logout()}}},[t._v("ออกจากระบบ")])])])])]),t._m(1),t._m(2)]),s("div",{staticClass:"container",staticStyle:{"padding-bottom":"20px"}},[t._m(3),t.Forums?s("div",{staticClass:"container-fluid",attrs:{id:"favorite_arc"}},[s("div",{staticClass:"row",attrs:{id:"all_favorite_arc"}},[t._l(t.Forums,(function(e){return s("div",{key:e._id,staticClass:"col-3",staticStyle:{"margin-bottom":"32px"},on:{click:function(s){return t.forumpage(e._id)}}},[s("div",{staticClass:"card",attrs:{id:"favorite_arc_card"}},[s("img",{staticClass:"card-img-top",attrs:{id:"favorite_arc_card_image",src:e.image_path}}),s("div",{staticClass:"card-body",style:{"border-top-color":t.forumcolor(e.type)},attrs:{id:"favorite_arc_card_body"}},[s("div",{style:{"background-color":t.forumcolor(e.type)},attrs:{id:"favorite_arc_card_type_box"}},[t._v(t._s(t.forumtype(e.type)))]),s("p",{staticClass:"card-text",attrs:{id:"favorite_arc_card_text"}},[t._v(t._s(e.topic))])])])])})),s("center",[t.Forums?t._e():s("p",{attrs:{id:"favorite_arc_title"}},[t._v("ไม่มีข่าวประชาสัมพันธ์ใดๆ")])])],2)]):t._e(),t._m(4),t._m(5),t._m(6)]),s("div",{staticClass:"modal",class:{"is-active":t.modal_changepassword}},[s("div",{staticClass:"modal-background"}),s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head",staticStyle:{"background-color":"#F2F4F4"}},[s("p",{staticClass:"modal-card-title mt-2"},[t._v("Change Password")]),s("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(e){return t.resetmodal()}}})]),s("section",{staticClass:"modal-card-body mx-2",staticStyle:{"background-color":"#1C2833",color:"white"}},[s("form",{on:{submit:function(e){return e.preventDefault(),t.changepassword(e)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"currentPassword"}},[t._v("Current Password")]),s("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.$v.currentPassword.$model,expression:"$v.currentPassword.$model",modifiers:{trim:!0,lazy:!0}}],staticClass:"form-control",class:{"is-invalid":t.validationStatusError(t.$v.currentPassword),"is-valid":!t.$v.currentPassword.$invalid},attrs:{type:"password",id:"currentPassword"},domProps:{value:t.$v.currentPassword.$model},on:{change:function(e){t.$set(t.$v.currentPassword,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("a",{on:{click:function(e){return t.togglePassword3()}}},[s("span",{staticClass:"fa fa-fw fa-eye field-icon toggle-password"})]),s("div",{staticClass:"invalid-feedback",staticStyle:{"margin-top":"5px"}},[t.$v.currentPassword.required?t.$v.currentPassword.minLength?t._e():s("span",[t._v("Password ต้องไม่ต่ำกว่า 8 ตัว")]):s("span",[t._v("กรุณากรอกยืนยันรหัสผ่านปัจจุบัน")])])]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"Newpassword"}},[t._v("Your New Password")]),s("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.$v.Newpassword.$model,expression:"$v.Newpassword.$model",modifiers:{trim:!0,lazy:!0}}],staticClass:"form-control",class:{"is-invalid":t.validationStatusError(t.$v.Newpassword),"is-valid":!t.$v.Newpassword.$invalid},attrs:{type:"password",id:"Newpassword"},domProps:{value:t.$v.Newpassword.$model},on:{change:function(e){t.$set(t.$v.Newpassword,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("a",{on:{click:function(e){return t.togglePassword1()}}},[s("span",{staticClass:"fa fa-fw fa-eye field-icon toggle-password"})]),s("div",{staticClass:"invalid-feedback",staticStyle:{"margin-top":"5px"}},[t.$v.Newpassword.required?t.$v.Newpassword.minLength?t.$v.Newpassword.maxLength?t.$v.Newpassword.complex?t._e():s("span",[t._v("Password ง่ายเกินไป ควรมี A-Z หรือ a-z หรือ อักขระพิเศษ อย่างน้อย 1 ตัว")]):s("span",[t._v("Password ต้องไม่เกิน 255 ตัว")]):s("span",[t._v("Password ต้องไม่ต่ำกว่า 8 ตัว")]):s("span",[t._v("กรุณากรอกรหัสผ่าน")])])]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"repeatNewpassword"}},[t._v("Confirm Your New Password")]),s("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.$v.RepeatNewpassword.$model,expression:"$v.RepeatNewpassword.$model",modifiers:{trim:!0,lazy:!0}}],staticClass:"form-control",class:{"is-invalid":t.validationStatusError(t.$v.RepeatNewpassword),"is-valid":""!=t.Newpassword?!t.$v.RepeatNewpassword.$invalid:""},attrs:{type:"password",id:"repeatNewpassword"},domProps:{value:t.$v.RepeatNewpassword.$model},on:{change:function(e){t.$set(t.$v.RepeatNewpassword,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("a",{on:{click:function(e){return t.togglePassword2()}}},[s("span",{staticClass:"fa fa-fw fa-eye field-icon toggle-password"})]),s("div",{staticClass:"invalid-feedback",staticStyle:{"margin-top":"5px"}},[t.$v.RepeatNewpassword.required?t.$v.RepeatNewpassword.sameAspassword?t._e():s("span",[t._v("Password ไม่ตรงกัน")]):s("span",[t._v("กรุณากรอกรหัสผ่านอีกครั้ง")])])]),s("div",{staticClass:"form-group",staticStyle:{float:"right","margin-top":"5px","padding-right":"20px"}},[s("button",{staticClass:"btn btn-danger mr-3",attrs:{type:"submit"}},[t._v("Save Change")]),s("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.resetmodal()}}},[t._v("Cancel")])])])]),s("footer",{staticClass:"modal-card-foot",staticStyle:{"background-color":"#F2F4F4"}})])]),t._m(7)])},Ct=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{attrs:{href:"/admin"}},[s("img",{staticStyle:{"padding-left":"20px"},attrs:{src:"/image/navbar/newlogo.png",width:"110px",height:"auto",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("span",{attrs:{id:"line-1"}},[t._v("เคยไหม .....")]),s("br"),s("span",{attrs:{id:"line-2"}},[s("i",[t._v("เคยไหม ร้องเรียนปัญหาไปแล้วเรื่องไม่ถึงปลายทาง?"),s("br"),t._v(" เคยไหม ร้องเรียนปัญหาแล้วไม่ได้รับการแก้ไข?")]),s("br")]),s("span",{attrs:{id:"line-3"}},[t._v("มาร้องเรียนปัญหาผ่านทางเว็บไซต์เรา ปัญหาเหล่านั้นจะไม่เกิดขึ้นแน่นอน"),s("br"),t._v(" และสามารถติดตามสถานะของเรื่องร้องเรียนนั้นได้ด้วยตนเอง!")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"used"},[s("a",{attrs:{href:"/reportform",id:"apply"}},[t._v("ร้องเรียนปัญหา")]),s("a",{attrs:{href:"/trackingstatus",id:"tracking"}},[t._v("ติดตามสถานะ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-10",attrs:{id:"article"}},[s("p",[s("a",{attrs:{href:""}},[t._v("บทความยอดนิยม"),s("br"),s("br")])])]),s("div",{staticClass:"col-md-2",staticStyle:{"text-align":"right"},attrs:{id:"news"}},[s("p",[s("a",{attrs:{href:"/forum"}},[s("br"),s("i",[t._v("ดูข่าวประชาสัมพันธ์")]),s("br")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-10",attrs:{id:"problem"}},[s("p",[s("a",{attrs:{href:""}},[s("br"),t._v("ปัญหาที่พบบ่อย"),s("br")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-md-4"},[s("p",[s("a",{attrs:{href:""}},[s("br"),s("span",[t._v("01"),s("br"),t._v("การแจ้งขอทุนการศึกษาล่าช้า")]),s("br"),s("br")])])]),s("div",{staticClass:"col-md-4"},[s("p",[s("a",{attrs:{href:""}},[s("br"),s("span",[t._v("02"),s("br"),t._v("ติดโปร (Probation) ต้องทำยังไง")]),s("br"),s("br")])])]),s("div",{staticClass:"col-md-4"},[s("p",[s("a",{attrs:{href:""}},[s("br"),s("span",[t._v("03"),s("br"),t._v("วิชาเลือกที่แนะนำมีอะไรบ้าง")]),s("br"),s("br")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-md-4"},[s("p",[s("a",{attrs:{href:""}},[s("br"),s("span",[t._v("04"),s("br"),t._v("ห้องน้ำ IT สะอาดเกินไป")]),s("br"),s("br")])])]),s("div",{staticClass:"col-md-4"},[s("p",[s("a",{attrs:{href:""}},[s("br"),s("span",[t._v("05"),s("br"),t._v("เสียงก่อสร้างรบกวนการเรียนครับ")]),s("br"),s("br")])])]),s("div",{staticClass:"col-md-4"},[s("p",[s("a",{attrs:{href:""}},[s("br"),s("span",[t._v("06"),s("br"),t._v("ผมขอ "),s("span",{attrs:{id:"A"}},[t._v("A")]),t._v(" Webpro เถอะครับ")]),s("br"),s("br")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-5"},[s("div",{staticClass:"copyright text-white",staticStyle:{"font-weight":"200"}},[t._v(" King Mongkut's Institute of technology Ladkrabang"),s("br"),t._v(" 1Chalong Krung 1 Alley, Lat Krabang Bangkok 10520"),s("br"),t._v(" 02 723 4900 ")])]),s("div",{staticClass:"col-md-5"},[s("div",{staticClass:"copyright",staticStyle:{"padding-top":"20px",color:"#aaa"}},[t._v(" Copyright © 2021 ExptionKMITL ")])])])])}];function xt(t){return!!(t.match(/[a-z]/)&&t.match(/[A-Z]/)&&t.match(/[0-9]/))}var kt={data:function(){return{permission:null,tokenAdmin:null,tokenUserError:null,modal_changepassword:!1,Newpassword:"",RepeatNewpassword:"",currentPassword:"",Forums:null,typecolor:{education:"#E35205",sociality:"#6BDCA8",environment:"#F5B406",register:"#DA8DFB",scholarship:"#3FAAF6"}}},apollo:{currentAdmin:{query:Q},Forums:{query:V}},validations:{Newpassword:{required:ft["required"],complex:xt,minLength:Object(ft["minLength"])(8),maxLength:Object(ft["maxLength"])(255)},RepeatNewpassword:{required:ft["required"],sameAspassword:Object(ft["sameAs"])("Newpassword")},currentPassword:{required:ft["required"],minLength:Object(ft["minLength"])(8)}},created:function(){this.tokenAdmin=M.a.get("tokenAdmin"),this.tokenUserError=M.a.get("tokenUser"),this.tokenAdmin?this.permission="for admin":this.tokenUserError?(this.$swal({icon:"warning",title:"You can't access the admin, you are the user.! hahaha.",showConfirmButton:!0}),this.$router.push({name:"User"})):(this.$swal({icon:"warning",title:"กรุณาล็อกอินก่อนเข้าใช้งาน",showConfirmButton:!0}),M.a.remove("tokenUser"),M.a.remove("tokenAdmin"),this.$router.push({name:"Home"}))},methods:{logout:function(){M.a.remove("tokenUser"),M.a.remove("tokenAdmin"),this.$router.push({name:"Home"})},validationStatusError:function(t){return"undefined"!=typeof t&&t.$error},togglePassword1:function(){var t=document.getElementById("Newpassword");"password"===t.type?t.type="text":t.type="password"},togglePassword2:function(){var t=document.getElementById("repeatNewpassword");"password"===t.type?t.type="text":t.type="password"},togglePassword3:function(){var t=document.getElementById("currentPassword");"password"===t.type?t.type="text":t.type="password"},resetmodal:function(){this.modal_changepassword=!1,this.$v.$reset(),this.Newpassword="",this.RepeatNewpassword="",this.currentPassword=""},changepassword:function(){var t=this;this.$v.$touch(),this.$v.$pendding||this.$v.$error||this.$apollo.mutate({mutation:Y,variables:{_id:this.currentAdmin._id,old_password:this.currentPassword,new_password:this.Newpassword}}).then((function(e){"Success"==e.data.changePassword.status?(t.resetmodal(),t.$swal({icon:"success",title:"เปลี่ยนรหัสผ่านสำเร็จ",showConfirmButton:!1,timer:1500})):(t.resetmodal(),t.$swal({icon:"warning",title:"รหัสผ่านปัจจุบันไม่ถูกต้อง",showConfirmButton:!1,timer:2e3}))}))},forumcolor:function(t){return"studying"==t?this.typecolor.education:"sociality"==t?this.typecolor.sociality:"environment"==t?this.typecolor.environment:"register_system"==t?this.typecolor.register:"scholarship"==t?this.typecolor.scholarship:void 0},forumtype:function(t){return"sociality"==t?"สภาพสังคม":"studying"==t?"การศึกษา":"scholarship"==t?"ทุนการศึกษา":"register_system"==t?"การลงทะเบียน":"environment"==t?"สภาพแวดล้อม":void 0},forumpage:function(t){window.location.href="/forum/page",M.a.set("forum_id",""+t),M.a.set("page","/admin")}}},St=kt,At=(s("d48e"),Object(P["a"])(St,$t,Ct,!1,null,"0b395e3b",null)),Pt=At.exports,Et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),s("div",{staticClass:"container p-6 mt-4",attrs:{id:"loginform"}},[s("div",{staticClass:"row"},[t._m(1),s("div",{staticClass:"col-md-8",attrs:{id:"loginRight"}},[s("p",{domProps:{innerHTML:t._s(t.br)}}),s("div",{staticClass:"p-6 mt-6 mb-6 ml-6 mr-6",staticStyle:{"background-color":"#130d0d"}},[t._m(2),s("p",{staticStyle:{"font-size":"20px","font-weight":"500",color:"white",opacity:"0.5"}},[t._v(" Log in your account ")]),s("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[s("div",{staticClass:"form-group"},[s("label",{staticStyle:{"font-size":"20px","font-weight":"500",color:"white"},attrs:{for:"InputEmailLogin"}},[t._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.$v.email.$model,expression:"$v.email.$model",modifiers:{trim:!0,lazy:!0}}],staticClass:"form-control",class:{"is-invalid":t.validationStatusError(t.$v.email)||"error"==t.emailError,"is-valid":!t.$v.email.$invalid},attrs:{type:"email",id:"InputemailLogin"},domProps:{value:t.$v.email.$model},on:{change:function(e){t.$set(t.$v.email,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("div",{staticClass:"valid-feedback"}),s("div",{staticClass:"invalid-feedback"},[t.$v.email.required?t._e():s("span",[t._v("กรุณากรอก Email")]),t.$v.email.email?t._e():s("span")]),"error"==t.emailError?s("div",{staticClass:"alert alert-success alert-dismissible fade show",attrs:{role:"alert"}},[t._v(" Email ไม่ถูกต้องกรุณาตรวจสอบแล้วลองใหม่อีกครั้ง "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(e){return t.email_reset()}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]):t._e()]),s("div",{staticClass:"form-group"},[s("label",{staticStyle:{"font-size":"20px","font-weight":"500",color:"white"},attrs:{for:"InputPasswordLogin"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.$v.password.$model,expression:"$v.password.$model",modifiers:{trim:!0,lazy:!0}}],staticClass:"form-control",class:{"is-invalid":t.validationStatusError(t.$v.password)||"error"==t.passwordError,"is-valid":!t.$v.password.$invalid},attrs:{type:"password",id:"InputPasswordLogin"},domProps:{value:t.$v.password.$model},on:{change:function(e){t.$set(t.$v.password,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("a",{on:{click:function(e){return t.togglePassLogin()}}},[s("span",{staticClass:"fa fa-fw fa-eye field-icon toggle-password"})]),s("div",{staticClass:"valid-feedback"}),s("div",{staticClass:"invalid-feedback"},[t.$v.password.required?t._e():s("span",[t._v("กรุณากรอกรหัสผ่าน")]),t.$v.password.minLength?t._e():s("span",[t._v("Password ต้องไม่ต่ำกว่า 16 ตัว")]),t.$v.password.maxLength?t._e():s("span",[t._v("Password ต้องไม่เกิน 255 ตัว")])]),"error"==t.passwordError?s("div",{staticClass:"alert alert-success alert-dismissible fade show",attrs:{role:"alert"}},[t._v(" รหัสผ่านไม่ถูกต้อง "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(e){return t.password_reset()}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]):t._e()]),s("div",{staticClass:"form-group form-check",staticStyle:{"padding-left":"24px"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.remember,expression:"remember"}],staticClass:"form-check-input",staticStyle:{"background-color":"#130d0d","border-color":"white"},attrs:{type:"checkbox",id:"Check1"},domProps:{checked:Array.isArray(t.remember)?t._i(t.remember,null)>-1:t.remember},on:{change:function(e){var s=t.remember,a=e.target,r=!!a.checked;if(Array.isArray(s)){var i=null,o=t._i(s,i);a.checked?o<0&&(t.remember=s.concat([i])):o>-1&&(t.remember=s.slice(0,o).concat(s.slice(o+1)))}else t.remember=r}}}),s("label",{staticClass:"form-check-label",attrs:{for:"Check1"}},[t._v("Remember me")]),t._m(3)]),s("button",{staticClass:"btn btn-danger",staticStyle:{"font-size":"15px","font-weight":"300","border-radius":"20px",padding:"5px 30px 5px 30px"},attrs:{type:"submit"}},[t._v(" Log in ")]),s("br"),s("br"),t._m(4)])])])])]),t._m(5)])},Nt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"banner"},[s("div",{staticClass:"topnav_login_reg"},[s("a",{attrs:{href:"/"}},[s("img",{staticStyle:{"padding-left":"20px"},attrs:{src:"/image/navbar/newlogo.png",width:"110px",height:"auto",alt:""}})]),s("ul",[s("div",{staticClass:"clock",attrs:{id:"MyClockDisplay"}}),s("li",{attrs:{id:"comp2"}},[s("a",{attrs:{href:"/login"}},[t._v("Log In")])]),s("div",{staticClass:"line"}),s("li",{attrs:{id:"comp2"}},[s("a",{attrs:{href:"/register"}},[t._v("Register")])])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-sm-4",attrs:{id:"loginLeft"}},[s("div",{staticClass:"p-6 mt-6",staticStyle:{"background-color":"red"}},[s("img",{attrs:{src:"/image/navbar/newlogo.png",width:"100%",height:"auto",alt:""}})]),s("img",{attrs:{src:"/image/login/cloud.png",alt:"",id:"cloud1"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticStyle:{"font-size":"35px","font-weight":"500",color:"white"}},[t._v(" Welcome to "),s("span",{staticStyle:{color:"red"}},[t._v("ExceptionKMITL!")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticStyle:{float:"right","font-weight":"300",opacity:"0.5",color:"white"},attrs:{href:"/forgotpassword"}},[s("span",[s("u",[t._v("Forgot password?")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticStyle:{"font-size":"10px","font-weight":"400",color:"white"}},[t._v(" Don't have an account yet? "),s("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"/register"}},[s("span",{staticStyle:{color:"red"}},[s("b",[t._v("Create your account now!")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"copyright text-white",staticStyle:{"font-weight":"200"}},[t._v(" King Mongkut's Institute of technology Ladkrabang"),s("br"),t._v(" 1Chalong Krung 1 Alley, Lat Krabang Bangkok 10520"),s("br"),t._v(" 02 723 4900 ")])]),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"copyright",staticStyle:{padding:"20px",color:"#aaa",float:"right"}},[t._v(" Copyright © 2021 ExptionKMITL ")])])])])}],Lt={data:function(){return{email:"",emailError:"",password:"",passwordError:"",br:"<br><br>",remember:!1,rememberData:null}},validations:{email:{required:ft["required"],email:ft["email"]},password:{required:ft["required"],minLength:Object(ft["minLength"])(8),maxLength:Object(ft["maxLength"])(255)}},created:function(){M.a.remove("tokenAdmin"),M.a.remove("tokenUser"),this.rememberData=JSON.parse(localStorage.getItem("rememberMe")),null!=this.rememberData&&(this.email=this.rememberData.rememberEmail,this.password=this.rememberData.rememberPassword,this.remember=this.rememberData.rememberTrue)},methods:{alert:function(){this.$swal({icon:"warning",title:"กรุณาล็อกอินก่อนเข้าใช้งาน",showConfirmButton:!0})},togglePassLogin:function(){var t=document.getElementById("InputPasswordLogin");"password"===t.type?t.type="text":t.type="password"},validationStatusError:function(t){return"undefined"!=typeof t&&t.$error},email_reset:function(){this.emailError=""},password_reset:function(){this.passwordError=""},login:function(){var t=this;this.br="",this.$v.$touch(),this.$v.$pendding||this.$v.$error||this.$apollo.mutate({mutation:H,variables:{email:this.email,password:this.password}}).then((function(e){var s=e.data.login;"email not found"==s.message&&(t.emailError="error"),"Password incorrect"==s.message&&(t.passwordError="error");var a={rememberEmail:t.email,rememberPassword:t.password,rememberTrue:t.remember};if(console.log(e),"success"==s.status){if(1==t.remember){var r=JSON.stringify(a);localStorage.setItem("rememberMe",r)}if(0==t.remember&&localStorage.removeItem("rememberMe"),"admin"==s.role){var i=s.token;M.a.set("tokenAdmin",i),t.$router.push({name:"Admin"})}if("user"==s.role){var o=s.token;M.a.set("tokenUser",o),t.$router.push({name:"User"})}}}))}}},Ut=Lt,It=(s("b269"),Object(P["a"])(Ut,Et,Nt,!1,null,"048e42d3",null)),jt=It.exports,qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),s("div",{staticClass:"container p-6 mt-4"},[s("div",{staticClass:"row"},[t._m(1),s("div",{staticClass:"col-md-8",attrs:{id:"registerRight"}},[s("div",{staticClass:"p-6 ml-6 mr-6",staticStyle:{"background-color":"#130d0d"}},[s("p",{domProps:{innerHTML:t._s(t.br)}}),t._m(2),s("p",{staticStyle:{"font-size":"20px","font-weight":"500",color:"white",opacity:"0.5"}},[t._v(" Create your account ")]),s("form",{attrs:{id:"signup-form"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6",staticStyle:{"margin-left":"-15px"}},[s("div",{staticClass:"form-group"},[s("label",{staticStyle:{"font-size":"18px","font-weight":"500",color:"white"},attrs:{for:"InputFirstnameReg"}},[t._v("First Name")]),s("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.$v.firstname.$model,expression:"$v.firstname.$model",modifiers:{trim:!0,lazy:!0}}],staticClass:"form-control",class:{"is-invalid":t.validationStatusError(t.$v.firstname),"is-valid":!t.$v.firstname.$invalid},attrs:{type:"text",id:"InputFirstnameReg"},domProps:{value:t.$v.firstname.$model},on:{change:function(e){t.$set(t.$v.firstname,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("div",{staticClass:"invalid-feedback"},[t.$v.firstname.required?t._e():s("span",[t._v("กรุณากรอกชื่อ")]),t.$v.firstname.string?t._e():s("span",[t._v("ชื่อจริงไม่ถูกต้อง")]),t.$v.firstname.minLength?t._e():s("span",[t._v("ชื่อจริงผู้ใช้ต้องไม่ต่ำกว่า "+t._s(t.$v.firstname.$params.minLength.min)+" ตัว")]),t.$v.firstname.maxLength?t._e():s("span",[t._v("ชื่อจริงผู้ใช้ต้องไม่เกิน "+t._s(t.$v.firstname.$params.maxLength.max)+" ตัว")])])]),s("div",{staticClass:"form-group"},[s("label",{staticStyle:{"font-size":"18px","font-weight":"500",color:"white"},attrs:{for:"InputIdReg"}},[t._v("Student ID")]),s("input",{directives:[{name:"model",rawName:"v-model.number.lazy",value:t.$v.studentID.$model,expression:"$v.studentID.$model",modifiers:{number:!0,lazy:!0}}],staticClass:"form-control",class:{"is-invalid":t.validationStatusError(t.$v.studentID),"is-valid":!t.$v.studentID.$invalid},attrs:{type:"text",id:"InputIdReg"},domProps:{value:t.$v.studentID.$model},on:{change:function(e){t.$set(t.$v.studentID,"$model",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),s("div",{staticClass:"invalid-feedback"},[t.$v.studentID.required?t._e():s("span",[t._v("กรุณากรอกรหัสนักศึกษา")]),t.$v.studentID.integer?t._e():s("span"),t.$v.studentID.minLength?t._e():s("span",[t._v("รหัสนักศึกษาไม่ถูกต้อง")]),t.$v.studentID.maxLength?t._e():s("span",[t._v("รหัสนักศึกษาไม่ถูกต้อง")])])])]),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"form-group"},[s("label",{staticStyle:{"font-size":"18px","font-weight":"500",color:"white"},attrs:{for:"InputLastnameReg"}},[t._v("Last Name")]),s("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.$v.lastname.$model,expression:"$v.lastname.$model",modifiers:{trim:!0,lazy:!0}}],staticClass:"form-control",class:{"is-invalid":t.validationStatusError(t.$v.lastname),"is-valid":!t.$v.lastname.$invalid},attrs:{type:"text",id:"InputLastnameReg"},domProps:{value:t.$v.lastname.$model},on:{change:function(e){t.$set(t.$v.lastname,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("div",{staticClass:"invalid-feedback"},[t.$v.lastname.required?t._e():s("span",[t._v("กรุณากรอกนามสกุล")]),t.$v.lastname.string?t._e():s("span",[t._v("นามสกุลไม่ถูกต้อง")]),t.$v.lastname.minLength?t._e():s("span",[t._v("นามสกุลผู้ใช้ต้องไม่ต่ำกว่า "+t._s(t.$v.firstname.$params.minLength.min)+" ตัว")]),t.$v.lastname.maxLength?t._e():s("span",[t._v("นามสกุลผู้ใช้ต้องไม่เกิน "+t._s(t.$v.lastname.$params.maxLength.max)+" ตัว")]),t.$v.lastname.maxLength?t._e():s("span",[t._v("นามสกุลผู้ใช้ต้องไม่เกิน "+t._s(t.$v.lastname.$params.maxLength.max)+" ตัว")])])]),s("div",{staticClass:"form-group"},[s("label",{staticStyle:{"font-size":"18px","font-weight":"500",color:"white"},attrs:{for:"SelectStatusReg"}},[t._v("Educational Status")]),s("select",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.$v.status.$model,expression:"$v.status.$model",modifiers:{trim:!0,lazy:!0}}],staticClass:"form-control",class:{"is-invalid":t.validationStatusError(t.$v.status),"is-valid":!t.$v.status.$invalid},attrs:{id:"SelectStatusReg"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.$v.status,"$model",e.target.multiple?s:s[0])}}},[s("option",{attrs:{hidden:"",value:""}},[t._v("Chose your status..")]),s("option",{attrs:{value:"studying"}},[t._v("กำลังศึกษาอยู่")]),s("option",{attrs:{value:"graduated"}},[t._v("จบการศึกษาแล้ว")])]),s("div",{staticClass:"invalid-feedback"},[t.$v.status.required?t._e():s("span",[t._v("กรุณาเลือกสถานะ")])])])])])]),s("div",{staticClass:"form-group"},[s("label",{staticStyle:{"font-size":"18px","font-weight":"500",color:"white"},attrs:{for:"InputEmailReg"}},[t._v("Email address")]),s("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.$v.email.$model,expression:"$v.email.$model",modifiers:{trim:!0,lazy:!0}}],staticClass:"form-control",class:{"is-invalid":t.validationStatusError(t.$v.email),"is-valid":!t.$v.email.$invalid},attrs:{type:"email",id:"InputEmailReg"},domProps:{value:t.$v.email.$model},on:{change:function(e){t.$set(t.$v.email,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("div",{staticClass:"invalid-feedback"},[t.$v.email.required?t._e():s("span",[t._v("กรุณากรอก Email")]),t.$v.email.email?t._e():s("span",[t._v("Email ไม่ถูกต้อง")])])]),s("div",{staticClass:"form-group"},[s("label",{staticStyle:{"font-size":"18px","font-weight":"500",color:"white"},attrs:{for:"InputPasswordReg"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.$v.passWord.$model,expression:"$v.passWord.$model",modifiers:{trim:!0,lazy:!0}}],staticClass:"form-control",class:{"is-invalid":t.validationStatusError(t.$v.passWord),"is-valid":!t.$v.passWord.$invalid},attrs:{type:"password",id:"InputPasswordReg"},domProps:{value:t.$v.passWord.$model},on:{change:function(e){t.$set(t.$v.passWord,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("a",{on:{click:function(e){return t.togglePassReg()}}},[s("span",{staticClass:"fa fa-fw fa-eye field-icon toggle-password"})]),s("div",{staticClass:"invalid-feedback"},[t.$v.passWord.required?t.$v.passWord.minLength?t.$v.passWord.maxLength?t.$v.passWord.complex?t._e():s("span",[t._v("Password ง่ายเกินไป ควรมี A-Z หรือ a-z หรือ อักขระพิเศษ อย่างน้อย 1 ตัว")]):s("span",[t._v("Password ต้องไม่เกิน 255 ตัว")]):s("span",[t._v("Password ต้องไม่ต่ำกว่า 8 ตัว")]):s("span",[t._v("กรุณากรอกรหัสผ่าน")])])]),s("div",{staticClass:"form-group"},[s("label",{staticStyle:{"font-size":"18px","font-weight":"500",color:"white"},attrs:{for:"InputPasswordRegCheck"}},[t._v("Repeat Password")]),s("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.$v.repeatPassword.$model,expression:"$v.repeatPassword.$model",modifiers:{trim:!0,lazy:!0}}],staticClass:"form-control",class:{"is-invalid":t.validationStatusError(t.$v.repeatPassword),"is-valid":""!=t.passWord?!t.$v.repeatPassword.$invalid:""},attrs:{type:"password",id:"InputPasswordRegCheck",name:"InputPasswordRegCheck"},domProps:{value:t.$v.repeatPassword.$model},on:{change:function(e){t.$set(t.$v.repeatPassword,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("a",{on:{click:function(e){return t.togglePassRegCheck()}}},[s("span",{staticClass:"fa fa-fw fa-eye field-icon toggle-password"})]),s("div",{staticClass:"invalid-feedback"},[t.$v.repeatPassword.required?t._e():s("span",[t._v("กรุณากรอกรหัสผ่านอีกครั้ง")]),t.$v.repeatPassword.sameAspassword?t._e():s("span",[t._v("Password ไม่ตรงกัน")])])]),s("div",{staticClass:"form-group form-check",staticStyle:{"padding-left":"24px"}},[s("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.$v.Iagree.$model,expression:"$v.Iagree.$model",modifiers:{trim:!0,lazy:!0}}],staticClass:"form-check-input",class:{"is-invalid":t.validationStatusError(t.$v.Iagree),"is-valid":!t.$v.Iagree.$invalid},staticStyle:{"background-color":"#130d0d","border-color":"white"},attrs:{type:"checkbox",id:"Check2"},domProps:{checked:Array.isArray(t.$v.Iagree.$model)?t._i(t.$v.Iagree.$model,null)>-1:t.$v.Iagree.$model},on:{change:function(e){var s=t.$v.Iagree.$model,a=e.target,r=!!a.checked;if(Array.isArray(s)){var i=null,o=t._i(s,i);a.checked?o<0&&t.$set(t.$v.Iagree,"$model",s.concat([i])):o>-1&&t.$set(t.$v.Iagree,"$model",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(t.$v.Iagree,"$model",r)}}}),s("label",{staticClass:"form-check-label",attrs:{for:"Check2"}},[t._v("I agree with terms and conditions")]),s("div",{staticClass:"invalid-feedback"},[t.$v.Iagree.required?0==!t.$v.Iagree?s("span",[t._v("กรุณาคลิกเพื่อยอมรับเงื่อนไขและข้อตกลง")]):t._e():s("span",[t._v("กรุณาคลิกเพื่อยอมรับเงื่อนไขและข้อตกลง")])])]),s("button",{staticClass:"btn btn-danger",staticStyle:{"font-size":"15px","font-weight":"300","border-radius":"18px",padding:"5px 30px 5px 30px"},attrs:{type:"submit"}},[t._v(" Sign up ")]),s("td",{domProps:{innerHTML:t._s(t.br2)}}),s("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.messageRegOK,expression:"messageRegOK != ''"}],staticClass:"alert alert-success alert-dismissible fade show",attrs:{role:"alert"}},[t._v(" "+t._s(t.messageRegOK)+" "),t._m(3)]),t._m(4)])])])])]),t._m(5)])},Rt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"banner"},[s("div",{staticClass:"topnav_login_reg"},[s("a",{attrs:{href:"/"}},[s("img",{staticStyle:{"padding-left":"20px"},attrs:{src:"/image/navbar/newlogo.png",width:"110px",height:"auto",alt:""}})]),s("ul",[s("div",{staticClass:"clock",attrs:{id:"MyClockDisplay"}}),s("li",{attrs:{id:"comp2"}},[s("a",{attrs:{href:"/login"}},[t._v("Log In")])]),s("div",{staticClass:"line"}),s("li",{attrs:{id:"comp2"}},[s("a",{attrs:{href:"/register"}},[t._v("Register")])])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-sm-4",attrs:{id:"registerLeft"}},[s("div",{staticClass:"p-6",staticStyle:{"background-color":"red"}},[s("img",{attrs:{src:"/image/navbar/newlogo.png",width:"100%",height:"auto",alt:""}})]),s("img",{staticStyle:{"margin-top":"200px"},attrs:{src:"/image/login/cloud.png",alt:"",id:"cloud2"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticStyle:{"font-size":"35px","font-weight":"500",color:"white"}},[t._v(" Welcome to "),s("span",{staticStyle:{color:"red"}},[t._v("ExceptionKMITL!")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticStyle:{"font-size":"10px","font-weight":"400",color:"white"}},[t._v(" Already have an account? "),s("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"/login"}},[s("span",{staticStyle:{color:"red"}},[s("b",[t._v("Log in your account now!")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"copyright text-white",staticStyle:{"font-weight":"200"}},[t._v(" King Mongkut's Institute of technology Ladkrabang"),s("br"),t._v(" 1Chalong Krung 1 Alley, Lat Krabang Bangkok 10520"),s("br"),t._v(" 02 723 4900 ")])]),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"copyright",staticStyle:{padding:"20px",color:"#aaa",float:"right"}},[t._v(" Copyright © 2021 ExptionKMITL ")])])])])}];s("d3b7"),s("25f0");function Ft(t){return!t.match(/[0-9!@#$%^&*)(+=._-]/)}function Dt(t){return!!(t.match(/[a-z]/)&&t.match(/[A-Z]/)&&t.match(/[0-9]/))}var Ot={data:function(){return{firstname:"",lastname:"",studentID:"",status:"",email:"",passWord:"",repeatPassword:"",Iagree:"",br:"<br><br><br>",br2:"<br>",dataReg:"",messageRegOK:""}},validations:{firstname:{required:ft["required"],string:Ft,minLength:Object(ft["minLength"])(3),maxLength:Object(ft["maxLength"])(255)},lastname:{required:ft["required"],string:Ft,minLength:Object(ft["minLength"])(3),maxLength:Object(ft["maxLength"])(255)},studentID:{required:ft["required"],integer:ft["integer"],minLength:Object(ft["minLength"])(8),maxLength:Object(ft["maxLength"])(8)},status:{required:ft["required"]},email:{required:ft["required"],email:ft["email"]},passWord:{required:ft["required"],minLength:Object(ft["minLength"])(8),maxLength:Object(ft["maxLength"])(255),complex:Dt},repeatPassword:{required:ft["required"],sameAspassword:Object(ft["sameAs"])("passWord")},Iagree:{required:ft["required"],checked:function(t){return!0===t}}},methods:{alert:function(){this.$swal({icon:"warning",title:"กรุณาล็อกอินก่อนเข้าใช้งาน",showConfirmButton:!0})},togglePassReg:function(){var t=document.getElementById("InputPasswordReg");"password"===t.type?t.type="text":t.type="password"},togglePassRegCheck:function(){var t=document.getElementById("InputPasswordRegCheck");"password"===t.type?t.type="text":t.type="password"},resetData:function(){this.firstname="",this.lastname="",this.studentID="",this.status="",this.email="",this.passWord="",this.repeatPassword="",this.Iagree=""},validationStatusError:function(t){return"undefined"!=typeof t&&t.$error},submit:function(){var t=this;this.br="",this.$v.$touch(),this.$v.$pendding||this.$v.$error||this.$apollo.mutate({mutation:K,variables:{record:{fname:this.firstname,lname:this.lastname,email:this.email,password:this.passWord,studentid:this.studentID.toString(),status:this.status}}}).then((function(e){var s=e.data.createUser;s.recordId&&(t.messageRegOK="register success Let's Login!",console.log(e),t.$v.$reset(),t.resetData())})).catch((function(t){alert("test"),console.log(t)}))}}},Mt=Ot,zt=(s("af0d"),Object(P["a"])(Mt,qt,Rt,!1,null,"4c20d4c6",null)),Bt=zt.exports,Tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),s("div",{staticClass:"wrapper fadeInDown"},[s("div",{staticStyle:{"margin-top":"80px","margin-bottom":"80px"},attrs:{id:"formContent"}},[t._m(1),"error"==t.sendError1?s("div",{staticClass:"alert alert-danger alert-dismissible fade show",attrs:{role:"alert"}},[t._v(" กรุณากรอก Email ก่อนกด SEND CODE "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(e){t.sendError1=""}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]):t._e(),"error"==t.sendError2?s("div",{staticClass:"alert alert-danger alert-dismissible fade show",attrs:{role:"alert"}},[t._v(" กรุณากรอกข้อมูลให้ครบถ้วนและถูกต้อง "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(e){t.sendError2=""}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]):t._e(),""!=t.notFoundEmail?s("div",{staticClass:"alert alert-danger alert-dismissible fade show",attrs:{role:"alert"}},[t._v(" "+t._s(t.notFoundEmail)+" "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(e){t.notFoundEmail=""}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]):t._e(),""!=t.success?s("div",{staticClass:"alert alert-success alert-dismissible fade show",attrs:{role:"alert"}},[t._v(" "+t._s(t.success)+" "),t._m(2)]):t._e(),""!=t.error?s("div",{staticClass:"alert alert-danger alert-dismissible fade show",attrs:{role:"alert"}},[t._v(" "+t._s(t.error)+" "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(e){t.error=""}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]):t._e(),""!=t.success?[t._m(3)]:t._e(),""==t.success?[s("form",{on:{submit:function(e){return e.preventDefault(),t.ChangePassword(e)}}},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.$v.emailSend.$model,expression:"$v.emailSend.$model",modifiers:{trim:!0,lazy:!0}}],staticClass:"fadeIn second form-control",class:{"is-invalid":t.validationStatusError(t.$v.emailSend),"is-valid":!t.$v.emailSend.$invalid},attrs:{type:"email",placeholder:"Your email"},domProps:{value:t.$v.emailSend.$model},on:{change:function(e){t.$set(t.$v.emailSend,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("div",{staticClass:"invalid-feedback",staticStyle:{"text-align":"left","margin-left":"35px","margin-top":"-5px"}},[t.$v.emailSend.required?t._e():s("span",[t._v("กรุณากรอก Email")]),t.$v.emailSend.email?t._e():s("span",[t._v("Email ไม่ถูกต้อง")])])]),t.passInputShow?s("div",{staticClass:"form-group",staticStyle:{"margin-top":"-15px"}},[s("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.$v.Newpassword.$model,expression:"$v.Newpassword.$model",modifiers:{trim:!0,lazy:!0}}],staticClass:"fadeIn second form-control",class:{"is-invalid":t.validationStatusError(t.$v.Newpassword),"is-valid":!t.$v.Newpassword.$invalid},attrs:{type:"password",placeholder:"Your new password",id:"Newpassword1"},domProps:{value:t.$v.Newpassword.$model},on:{change:function(e){t.$set(t.$v.Newpassword,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("a",{on:{click:function(e){return t.togglePassword1()}}},[s("span",{staticClass:"fa fa-fw fa-eye field-icon2 toggle-password"})]),s("div",{staticClass:"invalid-feedback",staticStyle:{"text-align":"left","margin-left":"35px","margin-top":"-5px"}},[t.$v.Newpassword.required?t.$v.Newpassword.minLength?t.$v.Newpassword.maxLength?t.$v.Newpassword.complex?t._e():s("span",[t._v("Password ง่ายเกินไป ควรมี A-Z หรือ a-z หรือ อักขระพิเศษ อย่างน้อย 1 ตัว")]):s("span",[t._v("Password ต้องไม่เกิน 255 ตัว")]):s("span",[t._v("Password ต้องไม่ต่ำกว่า 8 ตัว")]):s("span",[t._v("กรุณากรอกรหัสผ่าน")])])]):t._e(),t.passInputShow?s("div",{staticClass:"form-group",staticStyle:{"margin-top":"-15px"}},[s("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.$v.RepeatNewpassword.$model,expression:"$v.RepeatNewpassword.$model",modifiers:{trim:!0,lazy:!0}}],staticClass:"fadeIn second form-control",class:{"is-invalid":t.validationStatusError(t.$v.RepeatNewpassword),"is-valid":""!=t.Newpassword?!t.$v.RepeatNewpassword.$invalid:""},attrs:{type:"password",placeholder:"Repeat your new password",id:"Newpassword2"},domProps:{value:t.$v.RepeatNewpassword.$model},on:{change:function(e){t.$set(t.$v.RepeatNewpassword,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("a",{on:{click:function(e){return t.togglePassword2()}}},[s("span",{staticClass:"fa fa-fw fa-eye field-icon2 toggle-password"})]),s("div",{staticClass:"invalid-feedback",staticStyle:{"text-align":"left","margin-left":"35px","margin-top":"-5px"}},[t.$v.RepeatNewpassword.required?t._e():s("span",[t._v("กรุณากรอกรหัสผ่านอีกครั้ง ")]),t.$v.RepeatNewpassword.sameAspassword?t._e():s("span",[t._v("Password ไม่ตรงกัน")])])]):t._e(),s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[""==t.sending?s("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.$v.code.$model,expression:"$v.code.$model",modifiers:{trim:!0,lazy:!0}}],staticClass:"form-control",class:{"is-invalid":t.validationStatusError(t.$v.code),"is-valid":!t.$v.code.$invalid},staticStyle:{"margin-top":"10px","margin-left":"10px"},attrs:{type:"text",placeholder:"Your code"},domProps:{value:t.$v.code.$model},on:{change:function(e){t.$set(t.$v.code,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}):t._e(),s("div",{staticClass:"invalid-feedback",staticStyle:{"text-align":"left","margin-left":"20px","margin-top":"-5px"}},[t.$v.code.required?t._e():s("span",[t._v("กรุณากรอกรหัสยืนยัน")]),t.$v.code.maxLength?t._e():s("span"),t.$v.code.minLength?t._e():s("span")]),s("div",[""==t.sending?s("span",{staticStyle:{color:"yellow"}},[t._v("มีเวลา 5 นาทีในการกรอกโค้ด!")]):t._e()])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},["hide"!=t.sending&&""!=t.sending?[s("button",{staticClass:"mt-3 mr-4 btn btn-primary",staticStyle:{"margin-bottom":"30px"},attrs:{type:"button",disabled:""}},[t._v(" "+t._s(t.sending)+" "),s("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}})])]:t._e(),"hide"!=t.sendcode||""==t.sending?s("input",{directives:[{name:"model",rawName:"v-model",value:t.sendcode,expression:"sendcode"}],staticClass:"fadeIn second btn btn-danger",staticStyle:{"margin-top":"10px","margin-right":"50px","margin-bottom":"30px"},attrs:{type:"button",value:""},domProps:{value:t.sendcode},on:{click:function(e){return t.SendCode()},input:function(e){e.target.composing||(t.sendcode=e.target.value)}}}):t._e()],2),s("div",{staticClass:"col-6"},[t.change_sending?[t.change_password?s("input",{directives:[{name:"model",rawName:"v-model",value:t.change_password,expression:"change_password"}],staticClass:"fadeIn second",staticStyle:{"margin-top":"10px"},attrs:{type:"submit"},domProps:{value:t.change_password},on:{click:function(e){return t.check_and_change()},input:function(e){e.target.composing||(t.change_password=e.target.value)}}}):t._e(),s("button",{staticClass:"mt-3 mr-4 btn btn-primary",staticStyle:{"margin-bottom":"30px"},attrs:{type:"button",disabled:""}},[t._v(" "+t._s(t.change_sending)+" "),s("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}})])]:t._e(),t.change_password?s("input",{directives:[{name:"model",rawName:"v-model",value:t.change_password,expression:"change_password"}],staticClass:"fadeIn second btn btn-primary",staticStyle:{"margin-top":"10px"},attrs:{type:"button"},domProps:{value:t.change_password},on:{click:function(e){return t.check_and_change()},input:function(e){e.target.composing||(t.change_password=e.target.value)}}}):t._e()],2)])])])]:t._e()],2)]),t._m(4)])},Kt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"banner"},[s("div",{staticClass:"topnav_login_reg"},[s("a",{attrs:{href:"/"}},[s("img",{staticStyle:{"padding-left":"20px"},attrs:{src:"/image/navbar/newlogo.png",width:"110px",height:"auto",alt:""}})]),s("ul",[s("div",{staticClass:"clock",attrs:{id:"MyClockDisplay"}}),s("li",{attrs:{id:"comp2"}},[s("a",{attrs:{href:"/login"}},[t._v("Log In")])]),s("div",{staticClass:"line"}),s("li",{attrs:{id:"comp2"}},[s("a",{attrs:{href:"/register"}},[t._v("Register")])])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"fadeIn first"},[s("img",{attrs:{src:"/image/navbar/newlogo.png",id:"icon",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container success"},[s("div",{staticClass:"dot"},[s("i",{staticClass:"fas fa-check",staticStyle:{color:"white",height:"50px",width:"40px"}})]),s("h1",[t._v("Password Changed!")]),s("h3",[t._v("Your password has been Changed successfully.")]),s("br"),s("a",{attrs:{href:"/login"}},[s("button",{staticClass:"btn btn-primary btn-lg",attrs:{type:"button"}},[t._v("Back to login")])]),s("br"),s("br")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"copyright text-white",staticStyle:{"font-weight":"200"}},[t._v(" King Mongkut's Institute of technology Ladkrabang"),s("br"),t._v(" 1Chalong Krung 1 Alley, Lat Krabang Bangkok 10520"),s("br"),t._v(" 02 723 4900 ")])]),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"copyright",staticStyle:{padding:"20px",color:"#aaa",float:"right"}},[t._v(" Copyright © 2021 ExptionKMITL ")])])])])}];function Ht(t){return!!(t.match(/[a-z]/)&&t.match(/[A-Z]/)&&t.match(/[0-9]/))}var Wt={data:function(){return{data:null,sec:181,timeOver:"",interval:"",emailSend:"",Newpassword:"",RepeatNewpassword:"",code:"",sendcode:"Send code",sending:"hide",passInputShow:!1,change_password:null,change_sending:null,sendError1:"",sendError2:"",notFoundEmail:"",success:"",error:""}},validations:{emailSend:{required:ft["required"],email:ft["email"]},Newpassword:{required:ft["required"],complex:Ht,minLength:Object(ft["minLength"])(8),maxLength:Object(ft["maxLength"])(255)},RepeatNewpassword:{required:ft["required"],sameAspassword:Object(ft["sameAs"])("Newpassword")},code:{required:ft["required"],minLength:Object(ft["minLength"])(6),maxLength:Object(ft["maxLength"])(6)}},methods:{validationStatusError:function(t){return"undefined"!=typeof t&&t.$error},togglePassword1:function(){var t=document.getElementById("Newpassword1");"password"===t.type?t.type="text":t.type="password"},togglePassword2:function(){var t=document.getElementById("Newpassword2");"password"===t.type?t.type="text":t.type="password"},reset_data:function(){this.emailSend="",this.Newpassword="",this.RepeatNewpassword="",this.code=""},SendCode:function(){var t=this;if(this.$v.emailSend.$touch(),this.$v.emailSend.$pendding||this.$v.emailSend.$error)return this.sendError1="error",this.sendError2="",this.notFoundEmail="",this.success="",this.error="";this.sendcode="hide",this.sending="sending",setTimeout((function(){t.sending="sending.",setTimeout((function(){t.sending="sending..",setTimeout((function(){t.sending="sending...",t.$apollo.mutate({mutation:nt,variables:{email:t.emailSend}}).then((function(e){t.data=e.data.resetPassword,console.log(t.data),"Success"==t.data.status?(t.$v.code.$reset(),t.code="",t.sending="",t.change_password="check passcode",t.sendcode="Send code"):(t.sending="hide",t.sendcode="Send code",t.notFoundEmail=t.data.message)})).catch((function(t){console.log(t)}))}),1e3)}),1e3)}),1e3)},CheckPassCode:function(){var t=this;if(this.$v.$touch(),this.$v.code.$pendding||this.$v.code.$error)return this.sendError2="error",this.sendError1="",this.notFoundEmail="",this.success="",this.error="";this.change_password=null,this.change_sending="sending",setTimeout((function(){t.change_sending="sending.",setTimeout((function(){t.change_sending="sending..",setTimeout((function(){t.change_sending="sending...",t.$apollo.mutate({mutation:lt,variables:{email:t.emailSend,passcode:t.code}}).then((function(e){t.change_password="change password","Success"==e.data.checkPasscode.status?(t.change_sending=null,t.change_password="change password",t.passInputShow=!0,t.sendError1="",t.sendError2="",t.notFoundEmail="",t.success="",t.$v.Newpassword.$reset(),t.$v.RepeatNewpassword.$reset()):(t.error=e.data.checkPasscode.message,t.sendError1="",t.sendError2="",t.notFoundEmail="",t.success="",t.change_sending=null,t.change_password="check passcode")})).catch((function(t){console.log(t)}))}),1e3)}),1e3)}),1e3)},ChangePassword:function(){var t=this;if(this.$v.$touch(),this.$v.$pendding||this.$v.$error)return this.sendError2="error",this.sendError1="",this.notFoundEmail="",this.success="",this.error="";this.change_password=null,this.change_sending="sending",setTimeout((function(){t.change_sending="sending.",setTimeout((function(){t.change_sending="sending..",setTimeout((function(){t.change_sending="sending...",t.$apollo.mutate({mutation:ct,variables:{email:t.emailSend,password:t.Newpassword}}).then((function(e){var s=e.data.setNewPassword;console.log(s),"Success"==s.status?(t.success=s.message,t.sendError1="",t.sendError2="",t.notFoundEmail="",t.error="",clearInterval(t.interval),t.sec=301,t.sendcode="Send code",t.sending="hide",t.code="",t.$v.$reset(),t.reset_data()):(t.error=s.message,t.sendError1="",t.sendError2="",t.notFoundEmail="",t.success="")})).catch((function(t){console.log(t)}))}),300)}),300)}),300)},check_and_change:function(){"check passcode"==this.change_password?this.CheckPassCode():"change password"==this.change_password&&this.ChangePassword()}}},Yt=Wt,Zt=(s("7837"),Object(P["a"])(Yt,Tt,Kt,!1,null,"524b3db8",null)),Jt=Zt.exports,Vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("body",[s("div",{staticClass:"banner"},[s("div",{staticClass:"topnav_forum"},[s("a",{attrs:{href:""+t.permissionPath}},[s("img",{staticStyle:{"padding-left":"20px"},attrs:{src:"/image/navbar/newlogo.png",width:"110px",height:"auto",alt:""}})]),s("ul",[s("div",{staticClass:"clock",attrs:{id:"MyClockDisplay"}}),t.currentAdmin?s("li",{attrs:{id:"comp1"}},[s("a",{attrs:{href:"/manageUser"}},[t._v("Manage User")])]):t._e(),t.currentAdmin?s("li",{attrs:{id:"comp1"}},[s("a",{attrs:{href:"/manageforum"}},[t._v("Manage Forum")])]):t._e(),t.currentAdmin?s("li",{attrs:{id:"comp1"}},[s("a",{attrs:{href:"/manageReport"}},[t._v("Manage Report")])]):t._e(),t.currentUser||t.currentAdmin?t._e():[t._m(0),s("div",{staticClass:"line"}),t._m(1)],t.currentUser||t.currentAdmin?s("div",{staticClass:"dropdown"},[s("a",{directives:[{name:"show",rawName:"v-show",value:"User"==t.role,expression:"role == 'User'"}],staticStyle:{"text-decoration":"none"},attrs:{href:""+t.permissionPath}},[s("button",{staticClass:"home btn btn-outline-light",attrs:{type:"button"}},[t._v("Home")])]),t.currentUser?s("button",{staticClass:"btn btn-danger  dropdown-toggle",attrs:{id:"comp3",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[s("i",{staticClass:"fa fa-user"}),t._v(" "+t._s(t.currentUser.studentid)+" ")]):t._e(),t.currentAdmin?s("button",{staticClass:"btn btn-danger  dropdown-toggle",attrs:{id:"comp3",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[s("i",{staticClass:"fa fa-user-plus"}),t._v(" "+t._s(t.currentAdmin.name)+" ")]):t._e(),s("p",{staticClass:"dropdown-menu"},[s("button",{staticClass:"dropdown-item text-danger",attrs:{type:"button"},on:{click:function(e){return t.logout()}}},[t._v("ออกจากระบบ")])])]):t._e()],2)])]),s("div",{staticClass:"container-fluid",attrs:{id:"favorite_arc"}},[s("p",{attrs:{id:"favorite_arc_title"}},[t._v("ข่าวประชาสัมพันธ์")]),s("div",{staticClass:"row",attrs:{id:"all_favorite_arc"}},[t._l(t.Forums,(function(e){return t.Forums?s("div",{staticClass:"col-3",staticStyle:{"margin-bottom":"32px"},on:{click:function(s){return t.forumpage(e._id)}}},[s("div",{staticClass:"card",attrs:{id:"favorite_arc_card"}},[s("img",{staticClass:"card-img-top",attrs:{id:"favorite_arc_card_image",src:e.image_path}}),s("div",{staticClass:"card-body",style:{"border-top-color":t.forumcolor(e.type)},attrs:{id:"favorite_arc_card_body"}},[s("div",{style:{"background-color":t.forumcolor(e.type)},attrs:{id:"favorite_arc_card_type_box"}},[t._v(t._s(t.forumtype(e.type)))]),s("p",{staticClass:"card-text",attrs:{id:"favorite_arc_card_text"}},[t._v(t._s(e.topic))])])])]):t._e()})),s("center",[t.Forums?t._e():s("p",{attrs:{id:"favorite_arc_title"}},[t._v("ไม่มีข่าวประชาสัมพันธ์ใดๆ")])])],2)]),t._m(2)])},Gt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{attrs:{id:"comp2"}},[s("a",{attrs:{href:"/login"}},[t._v("Log In")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{attrs:{id:"comp2"}},[s("a",{attrs:{href:"/register"}},[t._v("Register")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",[s("div",{attrs:{id:"footer_homepage"}},[s("p",{attrs:{id:"address"}},[t._v("King Mongkut's Institute of Technology Ladkrabang")]),s("p",{attrs:{id:"address"}},[t._v("1 Chalong Krung 1 Alley, Lat Krabang, Bangkok 10520")]),s("p",{attrs:{id:"address"}},[t._v("02 723 4900")])])])}],Qt={data:function(){return{tokenUser:null,tokenAdmin:null,role:null,currentUser:null,currentAdmin:null,permissionPath:null,Forums:null,typecolor:{education:"#E35205",sociality:"#6BDCA8",environment:"#F5B406",register:"#DA8DFB",scholarship:"#3FAAF6"}}},apollo:{currentUser:{query:W},currentAdmin:{query:Q},Forums:{query:V}},created:function(){this.tokenUser=M.a.get("tokenUser"),this.tokenAdmin=M.a.get("tokenAdmin"),this.tokenUser?(this.role="User",this.permissionPath="/user"):this.tokenAdmin?(this.role="Admin",this.permissionPath="/admin"):(this.permissionPath="/",M.a.remove("tokenUser"),M.a.remove("tokenAdmin"))},methods:{forumcolor:function(t){return"studying"==t?this.typecolor.education:"sociality"==t?this.typecolor.sociality:"environment"==t?this.typecolor.environment:"register_system"==t?this.typecolor.register:"scholarship"==t?this.typecolor.scholarship:void 0},forumtype:function(t){return"sociality"==t?"สภาพสังคม":"studying"==t?"การศึกษา":"scholarship"==t?"ทุนการศึกษา":"register_system"==t?"การลงทะเบียน":"environment"==t?"สภาพแวดล้อม":void 0},forumpage:function(t){window.location.href="/forum/page",M.a.set("forum_id",""+t),M.a.set("page","/forum")},logout:function(){M.a.remove("tokenUser"),M.a.remove("tokenAdmin"),this.$router.push({name:"Home"})}}},Xt=Qt,te=(s("881f"),Object(P["a"])(Xt,Vt,Gt,!1,null,null,null)),ee=te.exports,se=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"banner"},[s("div",{staticClass:"topnav_forum"},[s("a",{attrs:{href:""+t.permissionPath}},[s("img",{staticStyle:{"padding-left":"20px"},attrs:{src:"/image/navbar/newlogo.png",width:"110px",height:"auto",alt:""}})]),s("ul",[s("div",{staticClass:"clock",attrs:{id:"MyClockDisplay"}}),t.currentAdmin?s("li",{attrs:{id:"comp1"}},[s("a",{attrs:{href:"/manageUser"}},[t._v("Manage User")])]):t._e(),t.currentAdmin?s("li",{attrs:{id:"comp1"}},[s("a",{attrs:{href:"/manageforum"}},[t._v("Manage Forum")])]):t._e(),t.currentAdmin?s("li",{attrs:{id:"comp1"}},[s("a",{attrs:{href:"/manageReport"}},[t._v("Manage Report")])]):t._e(),t.currentUser||t.currentAdmin?t._e():[t._m(0),s("div",{staticClass:"line"}),t._m(1)],t.currentUser||t.currentAdmin?s("div",{staticClass:"dropdown"},[s("a",{directives:[{name:"show",rawName:"v-show",value:"User"==t.role,expression:"role == 'User'"}],staticStyle:{"text-decoration":"none"},attrs:{href:""+t.permissionPath}},[s("button",{staticClass:"home btn btn-outline-light",attrs:{type:"button"}},[t._v("Home")])]),t.currentUser?s("button",{staticClass:"btn btn-danger  dropdown-toggle",attrs:{id:"comp3",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[s("i",{staticClass:"fa fa-user"}),t._v(" "+t._s(t.currentUser.studentid)+" ")]):t._e(),t.currentAdmin?s("button",{staticClass:"btn btn-danger  dropdown-toggle",attrs:{id:"comp3",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[s("i",{staticClass:"fa fa-user-plus"}),t._v(" "+t._s(t.currentAdmin.name)+" ")]):t._e(),s("p",{staticClass:"dropdown-menu"},[s("button",{staticClass:"dropdown-item text-danger",attrs:{type:"button"},on:{click:function(e){return t.logout()}}},[t._v("ออกจากระบบ")])])]):t._e()],2)])]),t._l(t.Forums,(function(e){return s("div",{key:e._id,staticClass:"container-fluid",attrs:{id:"all_arc"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("p",{attrs:{id:"arc_title"}},[t._v(t._s(e.topic))]),s("i",{attrs:{id:"arc_date"}},[t._v("Date: "+t._s(t.changeDate(e.createdAt)))]),s("center",[s("img",{attrs:{id:"arc_image",src:e.image_path}})]),s("p",{attrs:{id:"arc_description"}},[t._v(t._s(e.description))]),"/forum"==t.backPath?s("a",{attrs:{href:"/forum",id:"back_to_forum"}},[t._v("กลับไปยังหน้าข่าวประชาสัมพันธ์")]):t._e(),"/user"==t.backPath?s("a",{attrs:{href:"/user",id:"back_to_forum"}},[t._v("กลับไปยังหน้าแรก")]):t._e(),"/admin"==t.backPath?s("a",{attrs:{href:"/admin",id:"back_to_forum"}},[t._v("กลับไปยังหน้าแรก")]):t._e(),"/"==t.backPath?s("a",{attrs:{href:"/",id:"back_to_forum"}},[t._v("กลับไปยังหน้าแรก")]):t._e()],1)])])})),t._m(2)],2)},ae=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{attrs:{id:"comp2"}},[s("a",{attrs:{href:"/login"}},[t._v("Log In")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{attrs:{id:"comp2"}},[s("a",{attrs:{href:"/register"}},[t._v("Register")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",[s("div",{attrs:{id:"footer_homepage"}},[s("p",{attrs:{id:"address"}},[t._v("King Mongkut's Institute of Technology Ladkrabang")]),s("p",{attrs:{id:"address"}},[t._v("1 Chalong Krung 1 Alley, Lat Krabang, Bangkok 10520")]),s("p",{attrs:{id:"address"}},[t._v("02 723 4900")])])])}],re={data:function(){return{tokenUser:null,tokenAdmin:null,role:null,currentUser:null,currentAdmin:null,permissionPath:null,Forums:null,backPath:null}},apollo:{currentUser:{query:W},currentAdmin:{query:Q},Forums:{query:G,variables:{filter:{_id:M.a.get("forum_id")}}}},created:function(){this.tokenUser=M.a.get("tokenUser"),this.backPath=M.a.get("page"),this.tokenAdmin=M.a.get("tokenAdmin"),this.tokenUser?(this.role="User",this.permissionPath="/user"):this.tokenAdmin?(this.role="Admin",this.permissionPath="/admin"):(this.permissionPath="/",M.a.remove("tokenUser"),M.a.remove("tokenAdmin"))},methods:{logout:function(){M.a.remove("tokenUser"),M.a.remove("tokenAdmin"),this.$router.push({name:"Home"})},changeDate:function(t){return new Date(t).toLocaleString("th-TH")}}},ie=re,oe=(s("c606"),Object(P["a"])(ie,se,ae,!1,null,null,null)),ne=oe.exports,le=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("body",[s("div",{staticClass:"banner"},[s("div",{staticClass:"topnav_reportform"},[s("a",{attrs:{href:""+t.permissionPath}},[s("img",{staticStyle:{"padding-left":"20px"},attrs:{src:"/image/navbar/newlogo.png",width:"110px",height:"auto",alt:""}})]),s("ul",[s("div",{staticClass:"clock",attrs:{id:"MyClockDisplay"}}),t.currentAdmin?s("li",{attrs:{id:"comp1"}},[s("a",{attrs:{href:"/manageUser"}},[t._v("Manage User")])]):t._e(),t.currentAdmin?s("li",{attrs:{id:"comp1"}},[s("a",{attrs:{href:"/manageforum"}},[t._v("Manage Forum")])]):t._e(),t.currentAdmin?s("li",{attrs:{id:"comp1"}},[s("a",{attrs:{href:"/manageReport"}},[t._v("Manage Report")])]):t._e(),t.currentUser||t.currentAdmin?t._e():[t._m(0),s("div",{staticClass:"line"}),t._m(1)],t.currentUser||t.currentAdmin?s("div",{staticClass:"dropdown"},[s("a",{directives:[{name:"show",rawName:"v-show",value:"User"==t.role,expression:"role == 'User'"}],staticStyle:{"text-decoration":"none"},attrs:{href:""+t.permissionPath}},[s("button",{staticClass:"home btn btn-outline-light",attrs:{type:"button"}},[t._v("Home")])]),t.currentUser?s("button",{staticClass:"btn btn-danger  dropdown-toggle",attrs:{id:"comp3",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[s("i",{staticClass:"fa fa-user"}),t._v(" "+t._s(t.currentUser.studentid)+" ")]):t._e(),t.currentAdmin?s("button",{staticClass:"btn btn-danger  dropdown-toggle",attrs:{id:"comp3",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[s("i",{staticClass:"fa fa-user-plus"}),t._v(" "+t._s(t.currentAdmin.name)+" ")]):t._e(),s("p",{staticClass:"dropdown-menu"},[s("button",{staticClass:"dropdown-item text-danger",attrs:{type:"button"},on:{click:function(e){return t.logout()}}},[t._v("ออกจากระบบ")])])]):t._e()],2)])]),s("div",{staticClass:"container-fluid",attrs:{id:"reportform"}},[s("p",{attrs:{id:"reportform_title"}},[t._v("แบบฟอร์มร้องเรียน")]),s("div",{staticClass:"col-12",staticStyle:{"background-color":"#6BDCA8"},attrs:{id:"reportform_box"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6",attrs:{id:"reportform_description"}},[s("p",{attrs:{id:"reportform_box_title"}},[t._v("ปัญหาด้านสังคม")]),s("p",{attrs:{id:"reportform_box_description"}},[t._v("ร้องเรียนปัญหาด้านสังคมได้ที่นี่")]),s("button",{staticClass:"btn",attrs:{id:"reportform_button"},on:{click:function(e){return t.createreport("สภาพสังคม")}}},[t._v("ร้องเรียน")])]),s("div",{staticClass:"col-6",staticStyle:{"background-image":"url('https://d25tv1xepz39hi.cloudfront.net/2016-08-01/files/picture-style_1311.jpg')"},attrs:{id:"reportform_image_right"}})])]),s("div",{staticClass:"col-12",staticStyle:{"background-color":"#E35205"},attrs:{id:"reportform_box"}},[s("div",{staticClass:"row",staticStyle:{height:"100%"}},[s("div",{staticClass:"col-6",staticStyle:{"background-image":"url('https://www.educationcorner.com/images/featured-importance-education.png')"},attrs:{id:"reportform_image_left"}}),s("div",{staticClass:"col-6",attrs:{id:"reportform_description"}},[s("p",{attrs:{id:"reportform_box_title"}},[t._v("ปัญหาด้านการเรียน")]),s("p",{attrs:{id:"reportform_box_description"}},[t._v("ร้องเรียนปัญหาด้านการเรียนได้ที่นี่")]),s("button",{staticClass:"btn",attrs:{id:"reportform_button"},on:{click:function(e){return t.createreport("การศึกษา")}}},[t._v("ร้องเรียน")])])])]),s("div",{staticClass:"col-12",staticStyle:{"background-color":"#3FAAF6"},attrs:{id:"reportform_box"}},[s("div",{staticClass:"row",staticStyle:{height:"100%"}},[s("div",{staticClass:"col-6",attrs:{id:"reportform_description"}},[s("p",{attrs:{id:"reportform_box_title"}},[t._v("ปัญหาด้านทุนการศึกษา")]),s("p",{attrs:{id:"reportform_box_description"}},[t._v("ร้องเรียนปัญหาด้านทุนการศึกษาได้ที่นี่")]),s("button",{staticClass:"btn",attrs:{id:"reportform_button"},on:{click:function(e){return t.createreport("ทุนการศึกษา")}}},[t._v("ร้องเรียน")])]),s("div",{staticClass:"col-6",staticStyle:{"background-image":"url('https://5estimates.com/wp-content/uploads/2020/01/SCHOLARSHIP.jpg')"},attrs:{id:"reportform_image_right"}})])]),s("div",{staticClass:"col-12",staticStyle:{"background-color":"#DA8DFB"},attrs:{id:"reportform_box"}},[s("div",{staticClass:"row",staticStyle:{height:"100%"}},[s("div",{staticClass:"col-6",staticStyle:{"background-image":"url('http://agora.rovernet.eu/wp-content/uploads/2020/01/Registration.jpeg')"},attrs:{id:"reportform_image_left"}}),s("div",{staticClass:"col-6",attrs:{id:"reportform_description"}},[s("p",{attrs:{id:"reportform_box_title"}},[t._v("ปัญหาด้านระบบการลงทะเบียน")]),s("p",{attrs:{id:"reportform_box_description"}},[t._v("ร้องเรียนปัญหาด้านระบบการลงทะเบียนได้ที่นี่")]),s("button",{staticClass:"btn",attrs:{id:"reportform_button"},on:{click:function(e){return t.createreport("การลงทะเบียนเรียน")}}},[t._v("ร้องเรียน")])])])]),s("div",{staticClass:"col-12",staticStyle:{"background-color":"#F5B406"},attrs:{id:"reportform_box"}},[s("div",{staticClass:"row",staticStyle:{height:"100%"}},[s("div",{staticClass:"col-6",attrs:{id:"reportform_description"}},[s("p",{attrs:{id:"reportform_box_title"}},[t._v("ปัญหาด้านสภาพแวดล้อม")]),s("p",{attrs:{id:"reportform_box_description"}},[t._v("ร้องเรียนปัญหาด้านสภาพแวดล้อมได้ที่นี่")]),s("button",{staticClass:"btn",attrs:{id:"reportform_button",href:"#"},on:{click:function(e){return t.createreport("สภาพแวดล้อม")}}},[t._v("ร้องเรียน")])]),s("div",{staticClass:"col-6",staticStyle:{"background-image":"url('https://coenv-media-gene1ufvxiloffjq.stackpathdns.com/2016/02/career-fair-1.jpg')"},attrs:{id:"reportform_image_right"}})])])]),t._m(2)])},ce=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{attrs:{id:"comp2"}},[s("a",{attrs:{href:"/login"}},[t._v("Log In")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{attrs:{id:"comp2"}},[s("a",{attrs:{href:"/register"}},[t._v("Register")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",[s("div",{attrs:{id:"footer_homepage"}},[s("p",{attrs:{id:"address"}},[t._v("King Mongkut's Institute of Technology Ladkrabang")]),s("p",{attrs:{id:"address"}},[t._v("1 Chalong Krung 1 Alley, Lat Krabang, Bangkok 10520")]),s("p",{attrs:{id:"address"}},[t._v("02 723 4900")])])])}],de={data:function(){return{tokenUser:null,tokenAdmin:null,role:null,currentUser:null,currentAdmin:null,permissionPath:null}},apollo:{currentUser:{query:W},currentAdmin:{query:Q}},created:function(){this.tokenUser=M.a.get("tokenUser"),this.tokenAdmin=M.a.get("tokenAdmin"),this.tokenUser?(this.role="User",this.permissionPath="/user"):this.tokenAdmin?(this.role="Admin",this.permissionPath="/admin"):(this.$swal({icon:"warning",title:"กรุณาล็อกอินก่อนเข้าใช้งาน",showConfirmButton:!0}),M.a.remove("tokenUser"),M.a.remove("tokenAdmin"),this.$router.push({name:"Home"}))},methods:{logout:function(){M.a.remove("tokenUser"),M.a.remove("tokenAdmin"),console.log("Log out!"),this.$router.push({name:"Home"})},createreport:function(t){"สภาพสังคม"==t?(localStorage.setItem("color","#6BDCA8"),localStorage.setItem("type","sociality")):"การศึกษา"==t?(localStorage.setItem("color","#E35205"),localStorage.setItem("type","studying")):"ทุนการศึกษา"==t?(localStorage.setItem("color","#3FAAF6"),localStorage.setItem("type","scholarship")):"การลงทะเบียนเรียน"==t?(localStorage.setItem("color","#DA8DFB"),localStorage.setItem("type","register_system")):"สภาพแวดล้อม"==t&&(localStorage.setItem("color","#F5B406"),localStorage.setItem("type","environment")),window.location.href="/reportform/createreport"}}},me=de,ue=(s("ac1d"),Object(P["a"])(me,le,ce,!1,null,null,null)),pe=ue.exports,ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"banner"},[s("div",{staticClass:"topnav_createreport"},[s("a",{attrs:{href:""+t.permissionPath}},[s("img",{staticStyle:{"padding-left":"20px"},attrs:{src:"/image/navbar/newlogo.png",width:"110px",height:"auto",alt:""}})]),s("ul",[s("div",{staticClass:"clock",attrs:{id:"MyClockDisplay"}}),t.currentAdmin?s("li",{attrs:{id:"comp1"}},[s("a",{attrs:{href:"/manageUser"}},[t._v("Manage User")])]):t._e(),t.currentAdmin?s("li",{attrs:{id:"comp1"}},[s("a",{attrs:{href:"/manageforum"}},[t._v("Manage Forum")])]):t._e(),t.currentAdmin?s("li",{attrs:{id:"comp1"}},[s("a",{attrs:{href:"/manageReport"}},[t._v("Manage Report")])]):t._e(),t.currentUser||t.currentAdmin?t._e():[t._m(0),s("div",{staticClass:"line"}),t._m(1)],t.currentUser||t.currentAdmin?s("div",{staticClass:"dropdown"},[s("a",{directives:[{name:"show",rawName:"v-show",value:"User"==t.role,expression:"role == 'User'"}],staticStyle:{"text-decoration":"none"},attrs:{href:"/reportform"}},[s("button",{staticClass:"home btn btn-outline-light",attrs:{type:"button"}},[t._v("Back Reportform")])]),t.currentUser?s("button",{staticClass:"btn btn-danger  dropdown-toggle",attrs:{id:"comp3",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[s("i",{staticClass:"fa fa-user"}),t._v(" "+t._s(t.currentUser.studentid)+" ")]):t._e(),t.currentAdmin?s("button",{staticClass:"btn btn-danger  dropdown-toggle",attrs:{id:"comp3",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[s("i",{staticClass:"fa fa-user-plus"}),t._v(" "+t._s(t.currentAdmin.name)+" ")]):t._e(),s("p",{staticClass:"dropdown-menu"},[s("button",{staticClass:"dropdown-item text-danger",attrs:{type:"button"},on:{click:function(e){return t.logout()}}},[t._v("ออกจากระบบ")])])]):t._e()],2)])]),s("p",{attrs:{id:"createreport_big_title"}},[t._v("แบบฟอร์มร้องเรียน")]),s("div",{staticClass:"container",style:{"background-color":t.backcolor},attrs:{id:"all_report"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"report_topic"}},[t._v("หัวข้อเรื่องร้องเรียน")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.topic.$model,expression:"$v.topic.$model"}],staticClass:"form-control",class:{"is-invalid":t.$v.topic.$error},attrs:{type:"text",id:"report_topic","aria-describedby":"reporttopichelp",placeholder:"ใส่หัวข้อเรื่องร้องเรียน"},domProps:{value:t.$v.topic.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.topic,"$model",e.target.value)}}}),t.$v.topic.$error?[t.$v.topic.required?t._e():s("p",{attrs:{id:"error-message"}},[t._v("*กรุณาเติมข้อมูลในช่องนี้")]),t.$v.topic.minLength?t._e():s("p",{attrs:{id:"error-message"}},[t._v("*ความยาวหัวข้อที่ตั้งต้องไม่ต่ำกว่า 10 ตัวอักษร")]),t.$v.topic.maxLength?t._e():s("p",{attrs:{id:"error-message"}},[t._v("*ความยาวหัวข้อต้องมีความยาวไม่เกิน 255 ตัวอักษร")])]:t._e()],2),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"report_topic"}},[t._v("คำอธิบาย")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.$v.description.$model,expression:"$v.description.$model"}],staticClass:"form-control",class:{"is-invalid":t.$v.description.$error},attrs:{id:"report_description",rows:"5","aria-describedby":"reporttopichelp",placeholder:"ใส่คำอธิบาย"},domProps:{value:t.$v.description.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.description,"$model",e.target.value)}}}),t.$v.description.$error?[t.$v.description.required?t._e():s("p",{attrs:{id:"error-message"}},[t._v("*กรุณาเติมข้อมูลในช่องนี้")]),t.$v.description.minLength?t._e():s("p",{attrs:{id:"error-message"}},[t._v("*คำอธิบายควรมีความยาวไม่ต่ำกว่า 50 ตัวอักษร")])]:t._e()],2),"sociality"==t.type?s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"report_topic"}},[t._v("สถานที่ซึ่งต้องการร้องเรียน")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.sociality_location.$model,expression:"$v.sociality_location.$model"}],staticClass:"form-control",class:{"is-invalid":t.$v.sociality_location.$error},attrs:{type:"text",id:"report_topic",placeholder:"ใส่สถานที่"},domProps:{value:t.$v.sociality_location.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.sociality_location,"$model",e.target.value)}}}),t.$v.sociality_location.$error?[t.$v.sociality_location.required?t._e():s("p",{attrs:{id:"error-message"}},[t._v("*กรุณาเติมข้อมูลในช่องนี้")]),t.$v.sociality_location.minLength?t._e():s("p",{attrs:{id:"error-message"}},[t._v("ชื่อสถานที่ควรมีความยาวไม่ต่ำกว่า 5 ตัวอักษร")]),t.$v.sociality_location.maxLength?t._e():s("p",{attrs:{id:"error-message"}},[t._v("*ชื่อสถานที่ต้องมีความยาวไม่เกิน 255 ตัวอักษร")])]:t._e()],2):t._e(),"studying"==t.type?s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"report_topic"}},[t._v("รหัสของรายวิชาที่ต้องการร้องเรียน")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.education_subject_id.$model,expression:"$v.education_subject_id.$model"}],staticClass:"form-control",class:{"is-invalid":t.$v.education_subject_id.$error},attrs:{type:"text",id:"report_topic","aria-describedby":"reporttopichelp",placeholder:"ใส่รหัสวิชา"},domProps:{value:t.$v.education_subject_id.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.education_subject_id,"$model",e.target.value)}}}),t.$v.education_subject_id.$error?[t.$v.education_subject_id.required?t._e():s("p",{attrs:{id:"error-message"}},[t._v("*กรุณาเติมข้อมูลในช่องนี้")]),t.$v.education_subject_id.numeric?t._e():s("p",{attrs:{id:"error-message"}},[t._v("*กรุณาใส่เป็นตัวเลขเท่านั้น")]),t.$v.education_subject_id.minLength&&t.$v.education_subject_id.maxLength?t._e():s("p",{attrs:{id:"error-message"}},[t._v("*รหัสวิชาต้องเป็นตัวเลข 8 หลักเท่านั้น")])]:t._e()],2):t._e(),"scholarship"==t.type?s("div",{staticClass:"form-group",attrs:{"aria-describedby":"reporthelp"}},[s("label",{attrs:{for:"report_topic"}},[t._v("เลือกประเภททุนการศึกษา")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.$v.scholarship_type.$model,expression:"$v.scholarship_type.$model"}],staticClass:"form-control",class:{"is-invalid":t.$v.scholarship_type.$error},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.$v.scholarship_type,"$model",e.target.multiple?s:s[0])}}},[s("option",[t._v("ทุนอุดหนุนการศึกษาประภท ก")]),s("option",[t._v("ทุนอุดหนุนการศึกษาประภท ข")]),s("option",[t._v("ทุนเรียนดี")]),s("option",[t._v("ทุนผู้ทำคุณประโยชน์ให้แก่สถาบัน")]),s("option",[t._v("ทุนผู้สร้างชื่อเสียงในนามสถาบัน")]),s("option",[t._v("ทุนให้ยืมเพื่อการศึกษาในกรณีฉุกเฉิน")]),s("option",[t._v("ทุนสนับสนุนนักศึกษาในภาวะวิกฤต")]),s("option",[t._v("ทุนสนับสนุนการนำเสนอผลงานทางวิชาการ")]),s("option",[t._v("ทุนสนับสนุนการแลกเปลี่ยนและฝึกงานต่างประเทศ")]),s("option",[t._v("ทุนช่วยเหลือนักศึกษาในสถานการณ์การแพร่ระบาดของโรค COVID 19")]),s("option",[t._v("อื่นๆ")])]),t.$v.scholarship_type.$error?[t.$v.scholarship_type.required?t._e():s("p",{attrs:{id:"error-message"}},[t._v("*กรุณาเติมข้อมูลในช่องนี้")]),t.$v.scholarship_type.not_in?t._e():s("p",{attrs:{id:"error-message"}},[t._v("*คุณไม่สามารถใส่ข้อมูลนอกเหนือจากในข้อมูลที่เรามีให้ได้")])]:t._e()],2):t._e(),"register_system"==t.type?s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"report_topic"}},[t._v("รหัสของรายวิชาที่ต้องการร้องเรียน")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.register_subject.$model,expression:"$v.register_subject.$model"}],staticClass:"form-control",class:{"is-invalid":t.$v.register_subject.$error},attrs:{type:"text",id:"report_topic","aria-describedby":"reporttopichelp",placeholder:"ใส่ชื่อของรายวิชา"},domProps:{value:t.$v.register_subject.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.register_subject,"$model",e.target.value)}}}),t.$v.register_subject.$error?[t.$v.register_subject.required?t._e():s("p",{attrs:{id:"error-message"}},[t._v("*กรุณาเติมข้อมูลในช่องนี้")]),t.$v.register_subject.numeric?t._e():s("p",{attrs:{id:"error-message"}},[t._v("*กรุณาใส่เป็นตัวเลขเท่านั้น")]),t.$v.register_subject.minLength&&t.$v.register_subject.maxLength?t._e():s("p",{attrs:{id:"error-message"}},[t._v("*รหัสวิชาต้องเป็นตัวเลข 8 หลักเท่านั้น")])]:t._e()],2):t._e(),"environment"==t.type?s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"report_topic"}},[t._v("สถานที่ซึ่งต้องการร้องเรียน")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.environment_location.$model,expression:"$v.environment_location.$model"}],staticClass:"form-control",class:{"is-invalid":t.$v.environment_location.$error},attrs:{type:"text",id:"report_topic","aria-describedby":"reporttopichelp",placeholder:"ใส่สถานที่"},domProps:{value:t.$v.environment_location.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.environment_location,"$model",e.target.value)}}}),t.$v.environment_location.$error?[t.$v.environment_location.required?t._e():s("p",{attrs:{id:"error-message"}},[t._v("*กรุณาเติมข้อมูลในช่องนี้")]),t.$v.environment_location.minLength?t._e():s("p",{attrs:{id:"error-message"}},[t._v("*ชื่อสถานที่ควรมีความยาวไม่ต่ำกว่า 5 ตัวอักษร")]),t.$v.environment_location.maxLength?t._e():s("p",{attrs:{id:"error-message"}},[t._v("*ชื่อสถานที่ต้องมีความยาวไม่เกิน 255 ตัวอักษร")])]:t._e()],2):t._e(),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"report_topic"}},[t._v("เลือกเงื่อนไขในการร้องเรียน")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.$v.send_status.$model,expression:"$v.send_status.$model"}],staticClass:"form-control",class:{"is-invalid":t.$v.send_status.$error},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.$v.send_status,"$model",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"Not_Urgent"}},[t._v("ไม่ด่วน")]),s("option",{attrs:{value:"Urgent"}},[t._v("ด่วน")])]),t.$v.send_status.$error?[t.$v.send_status.required?t._e():s("p",{attrs:{id:"error-message"}},[t._v("*กรุณาเติมข้อมูลในช่องนี้")]),t.$v.send_status.not_in?t._e():s("p",{attrs:{id:"error-message"}},[t._v("*ท่านเลือกได้แค่ด่วน/ไม่ด่วนเท่านั้น")])]:t._e()],2),s("button",{staticClass:"btn btn-primary",attrs:{id:"btn_submit",type:"submit"},on:{click:function(e){return t.submit()}}},[t._v("Submit")])])])]),t._m(2)])},_e=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{attrs:{id:"comp2"}},[s("a",{attrs:{href:"/login"}},[t._v("Log In")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{attrs:{id:"comp2"}},[s("a",{attrs:{href:"/register"}},[t._v("Register")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{staticStyle:{"margin-top":"140px"}},[s("div",{attrs:{id:"footer_homepage"}},[s("p",{attrs:{id:"address"}},[t._v("King Mongkut's Institute of Technology Ladkrabang")]),s("p",{attrs:{id:"address"}},[t._v("1 Chalong Krung 1 Alley, Lat Krabang, Bangkok 10520")]),s("p",{attrs:{id:"address"}},[t._v("02 723 4900")])])])}],fe=(s("7db0"),s("a4d3"),s("e01a"),function(t){var e=["ทุนอุดหนุนการศึกษาประภท ก","ทุนอุดหนุนการศึกษาประภท ข","ทุนเรียนดี","ทุนผู้ทำคุณประโยชน์ให้แก่สถาบัน","ทุนผู้สร้างชื่อเสียงในนามสถาบัน","ทุนให้ยืมเพื่อการศึกษาในกรณีฉุกเฉิน","ทุนสนับสนุนนักศึกษาในภาวะวิกฤต","ทุนสนับสนุนการนำเสนอผลงานทางวิชาการ","ทุนสนับสนุนการแลกเปลี่ยนและฝึกงานต่างประเทศ","ทุนช่วยเหลือนักศึกษาในสถานการณ์การแพร่ระบาดของโรค COVID 19","อื่นๆ"];return"string"==typeof e.find((function(e){return e==t}))}),he={data:function(){return{tokenUser:null,tokenAdmin:null,role:null,currentUser:null,currentAdmin:null,permissionPath:null,backcolor:"#ffffff",type:null,topic:"",description:"",send_status:"",sociality_location:"",education_subject_id:null,scholarship_type:"",register_subject:"",environment_location:""}},apollo:{currentUser:{query:W},currentAdmin:{query:Q}},created:function(){this.tokenUser=M.a.get("tokenUser"),this.tokenAdmin=M.a.get("tokenAdmin"),this.tokenUser?(this.role="User",this.permissionPath="/user"):this.tokenAdmin?(this.role="Admin",this.permissionPath="/admin"):(this.$swal({icon:"warning",title:"กรุณาล็อกอินก่อนเข้าใช้งาน",showConfirmButton:!0}),M.a.remove("tokenUser"),M.a.remove("tokenAdmin"),this.$router.push({name:"Home"})),this.backcolor=localStorage.getItem("color"),this.type=localStorage.getItem("type"),console.log(localStorage.getItem("color"))},methods:{logout:function(){M.a.remove("tokenUser"),M.a.remove("tokenAdmin"),console.log("Log out!"),this.$router.push({name:"Home"})},submit:function(){var t=this;this.$v.$touch();var e=!this.$v.topic.$error&&!this.$v.description.$error&&!this.$v.send_status.$error,s=null;this.currentUser&&(s=this.currentUser._id),this.currentAdmin&&(s=this.currentAdmin._id);var a={topic:this.topic,type:this.type,description:this.description,condition_of_submission:this.send_status,complainer_id:s};!this.$v.sociality_location.$error&&e?a["target"]=this.sociality_location:!this.$v.education_subject_id.$error&&e?a["target"]=this.education_subject_id:!this.$v.scholarship_type.$error&&e?a["target"]=this.scholarship_type:!this.$v.register_subject.$error&&e?a["target"]=this.register_subject:!this.$v.environment_location.$error&&e?a["target"]=this.environment_location:this.$v.$touch(),console.log(a),this.$apollo.mutate({mutation:Z,variables:{record:a}}).then((function(e){console.log(e),t.$router.push({name:"Reportform"}),t.$swal({title:"ส่งคำร้องเรียนสำเร็จ",icon:"success"})})).catch((function(e){t.$swal({title:e,icon:"error"})}))}},validations:{topic:{required:ft["required"],minLength:Object(ft["minLength"])(10),maxLength:Object(ft["maxLength"])(255)},description:{required:ft["required"],minLength:Object(ft["minLength"])(50)},send_status:{required:ft["required"],not_in:function(t){return"Not_Urgent"==t||"Urgent"==t}},sociality_location:{required:ft["required"],minLength:Object(ft["minLength"])(5),maxLength:Object(ft["maxLength"])(255)},education_subject_id:{required:ft["required"],numeric:ft["numeric"],minLength:Object(ft["minLength"])(8),maxLength:Object(ft["maxLength"])(8)},scholarship_type:{required:ft["required"],not_in:fe},register_subject:{required:ft["required"],numeric:ft["numeric"],minLength:Object(ft["minLength"])(8),maxLength:Object(ft["maxLength"])(8)},environment_location:{required:ft["required"],minLength:Object(ft["minLength"])(5),maxLength:Object(ft["maxLength"])(255)}}},ge=he,be=(s("1426"),Object(P["a"])(ge,ve,_e,!1,null,"6af3a8fd",null)),ye=be.exports,we=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("body",[s("div",{staticClass:"banner"},[s("div",{staticClass:"topnav_trackingstatus"},[s("a",{attrs:{href:""+t.permissionPath}},[s("img",{staticStyle:{"padding-left":"20px"},attrs:{src:"/image/navbar/newlogo.png",width:"110px",height:"auto",alt:""}})]),s("ul",[s("div",{staticClass:"clock",attrs:{id:"MyClockDisplay"}}),t.currentAdmin?s("li",{attrs:{id:"comp1"}},[s("a",{attrs:{href:"/manageUser"}},[t._v("Manage User")])]):t._e(),t.currentAdmin?s("li",{attrs:{id:"comp1"}},[s("a",{attrs:{href:"/manageforum"}},[t._v("Manage Forum")])]):t._e(),t.currentAdmin?s("li",{attrs:{id:"comp1"}},[s("a",{attrs:{href:"/manageReport"}},[t._v("Manage Report")])]):t._e(),t.currentUser||t.currentAdmin?t._e():[t._m(0),s("div",{staticClass:"line"}),t._m(1)],t.currentUser||t.currentAdmin?s("div",{staticClass:"dropdown"},[s("a",{directives:[{name:"show",rawName:"v-show",value:"User"==t.role,expression:"role == 'User'"}],staticStyle:{"text-decoration":"none"},attrs:{href:""+t.permissionPath}},[s("button",{staticClass:"home btn btn-outline-light",attrs:{type:"button"}},[t._v("Home")])]),t.currentUser?s("button",{staticClass:"btn btn-danger  dropdown-toggle",attrs:{id:"comp3",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[s("i",{staticClass:"fa fa-user"}),t._v(" "+t._s(t.currentUser.studentid)+" ")]):t._e(),t.currentAdmin?s("button",{staticClass:"btn btn-danger  dropdown-toggle",attrs:{id:"comp3",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[s("i",{staticClass:"fa fa-user-plus"}),t._v(" "+t._s(t.currentAdmin.name)+" ")]):t._e(),s("p",{staticClass:"dropdown-menu"},[s("button",{staticClass:"dropdown-item text-danger",attrs:{type:"button"},on:{click:function(e){return t.logout()}}},[t._v("ออกจากระบบ")])])]):t._e()],2)])]),s("center",[s("p",{attrs:{id:"tracking_big_title"}},[t._v("ติดตามสถานะเรื่องร้องเรียน")])]),s("div",{staticClass:"container-fluid",attrs:{id:"all_select_tab"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"offset-3 col-6",attrs:{id:"select_by_type"}},[s("p",{attrs:{id:"select_title"}},[t._v("เลือกหมวดหมู่ร้องเรียน")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.type_select,expression:"type_select"}],staticClass:"form-control",attrs:{id:"type_select"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.type_select=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"all"}},[t._v("ทุกหมวดหมู่")]),s("option",{attrs:{value:"sociality"}},[t._v("สภาพสังคม")]),s("option",{attrs:{value:"studying"}},[t._v("การศึกษา")]),s("option",{attrs:{value:"scholarship"}},[t._v("ทุนการศึกษา")]),s("option",{attrs:{value:"register_system"}},[t._v("การลงทะเบียนเรียน")]),s("option",{attrs:{value:"environment"}},[t._v("สภาพแวดล้อม")])]),s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.onlyself_check,expression:"onlyself_check"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"self-checkbox"},domProps:{checked:Array.isArray(t.onlyself_check)?t._i(t.onlyself_check,null)>-1:t.onlyself_check},on:{change:function(e){var s=t.onlyself_check,a=e.target,r=!!a.checked;if(Array.isArray(s)){var i=null,o=t._i(s,i);a.checked?o<0&&(t.onlyself_check=s.concat([i])):o>-1&&(t.onlyself_check=s.slice(0,o).concat(s.slice(o+1)))}else t.onlyself_check=r}}}),s("label",{staticClass:"form-check-label",attrs:{for:"self-checkbox"}},[t._v("แสดงเฉพาะคำร้องเรียนของคุณ")])]),s("button",{staticClass:"btn",attrs:{id:"select_button"},on:{click:function(e){return t.getreportform()}}},[t._v("ตรวจสอบ")])])])]),s("center",[s("p",{staticStyle:{"font-size":"24px"},attrs:{id:"tracking_big_title"}},[t._v("รวมเรื่องร้องเรียน"+t._s(t.title))])]),s("center",[s("p",{staticStyle:{"font-size":"24px"},attrs:{id:"tracking_big_title"}},[t._v("ผลการค้นหา : "+t._s(t.Reports.length))])]),s("div",{staticClass:"container-fluid",attrs:{id:"all_select_tab"}},[0!=t.Reports.length?s("section",t._l(t.Reports,(function(e){return s("div",{key:e._id,staticClass:"row",staticStyle:{"margin-bottom":"7%"}},[s("div",{staticClass:"col-5",attrs:{id:"reportform_description"}},[s("p",[s("span",{attrs:{id:"text-head"}},[t._v("หัวข้อเรื่องร้องเรียน :")]),t._v(" "+t._s(e.topic))]),s("p",[s("span",{attrs:{id:"text-head"}},[t._v("เนื้อหาเรื่องร้องเรียน :")]),t._v(" "+t._s(e.description))]),s("p",[s("span",{attrs:{id:"text-head"}},[t._v("สถานะ :")]),t._v(" "+t._s(t.thaiStatus(e.submission_status)))]),s("p",[s("span",{attrs:{id:"text-head"}},[t._v("ประเภทเรื่องร้องเรียน :")]),t._v(" "+t._s(t.thaiType(e.type)))])]),s("div",{staticClass:"col-7",attrs:{id:"reportform_bar"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"3%"}},[s("div",{staticClass:"progress"},[s("div",{staticClass:"progress-bar",style:t.tubestatus(e.submission_status),attrs:{role:"progressbar","aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"}})])]),s("div",{staticClass:"col-3",staticStyle:{"text-align":"center"}},[s("i",{style:{"font-weight":t.statusfont(e.submission_status,"Received").weight}},[t._v("ระบบได้รับเรื่องแล้ว")])]),s("div",{staticClass:"col-3",staticStyle:{"text-align":"center"}},[s("i",{style:{"font-weight":t.statusfont(e.submission_status,"In_Progress").weight}},[t._v("ระบบกำลังตรวจสอบ")])]),s("div",{staticClass:"col-3",staticStyle:{"text-align":"center"}},[s("i",{style:{"font-weight":t.statusfont(e.submission_status,"Accepted").weight}},[t._v(t._s(t.extrafontstatus(e.submission_status)))])]),s("div",{staticClass:"col-3",staticStyle:{"text-align":"center"}},[s("i",{style:{"font-weight":t.statusfont(e.submission_status,"Completed").weight}},[t._v("ระบบดำเนินการสำเร็จ")])])])])])})),0):t._e()]),t._m(2)],1)},$e=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{attrs:{id:"comp2"}},[s("a",{attrs:{href:"/login"}},[t._v("Log In")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{attrs:{id:"comp2"}},[s("a",{attrs:{href:"/register"}},[t._v("Register")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{attrs:{id:"footer"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-5"}),s("div",{staticClass:"col-md-5"},[s("div",{staticClass:"copyright",staticStyle:{"padding-top":"20px",color:"#aaa"}},[t._v(" Copyright © 2021 ExptionKMITL ")])])])])}],Ce={data:function(){return{tokenUser:null,tokenAdmin:null,role:null,permissionPath:null,currentUser:null,currentAdmin:null,Reports:[],backupReports:[],type_select:"all",onlyself_check:!1,title:""}},apollo:{currentUser:{query:W},currentAdmin:{query:Q},Reports:{query:J}},created:function(){this.tokenUser=M.a.get("tokenUser"),this.tokenAdmin=M.a.get("tokenAdmin"),this.tokenUser?(this.role="User",this.permissionPath="/user"):this.tokenAdmin?(this.role="Admin",this.permissionPath="/admin"):(this.$swal({icon:"warning",title:"กรุณาล็อกอินก่อนเข้าใช้งาน",showConfirmButton:!0}),M.a.remove("tokenUser"),M.a.remove("tokenAdmin"),this.$router.push({name:"Home"}))},methods:{logout:function(){M.a.remove("tokenUser"),M.a.remove("tokenAdmin"),console.log("Log out!"),this.$router.push({name:"Home"})},getreportform:function(){var t=this,e=null;this.currentUser?e=this.currentUser._id:this.currentAdmin&&(e=this.currentAdmin._id),"all"!=this.type_select||this.onlyself_check?"all"==this.type_select&&this.onlyself_check?this.$apollo.queries.Reports.refetch({filter:{complainer_id:e}}).then((function(){t.thaiTitle()})):"all"==this.type_select||this.onlyself_check?"all"!=this.type_select&&this.onlyself_check&&this.$apollo.queries.Reports.refetch({filter:{type:this.type_select,complainer_id:e}}).then((function(){t.thaiTitle()})):this.$apollo.queries.Reports.refetch({filter:{type:this.type_select}}).then((function(){t.thaiTitle()})):this.$apollo.queries.Reports.refetch({filter:{OR:[{type:"sociality"},{type:"studying"},{type:"scholarship"},{type:"register_system"},{type:"environment"}]}}).then((function(){t.thaiTitle()}))},tubestatus:function(t){var e="#ffffff",s="0%";return"Received"==t?s="0%":"In_Progress"==t?(e="#FFCC00",s="37.5%"):"Accepted"==t?(e="#FFCC00",s="62.5%"):"Completed"==t?(e="#6cc070",s="100%"):"Declined"==t&&(e="#df4759",s="62.5%"),{"background-color":e,width:s,"border-radius":"4px"}},statusfont:function(t,e){var s="",a="1";return t==e||"Declined"==t&&"Accepted"==e?s="500":(s="100",a="0.6"),{weight:s,opa:a}},extrafontstatus:function(t){return"Declined"==t?"ระบบไม่สามารถดำเนินการได้":"ระบบกำลังดำเนินการ"},thaiStatus:function(t){return"Received"==t?t="ได้รับเรื่องแล้ว":"In_Progress"==t?t="กำลังตรวจสอบ":"Declined"==t?t="ไม่สามารถดำเนินการได้":"Accepted"==t?t="กำลังดำเนินการ":"Completed"==t&&(t="ดำเนินการสำเร็จ"),t},thaiType:function(t){return"sociality"==t?t="สภาพสังคม":"studying"==t?t="การศึกษา":"scholarship"==t?t="ทุนการศึกษา":"register_system"==t?t="การลงทะเบียนเรียน":"environment"==t&&(t="สภาพแวดล้อม"),t},thaiTitle:function(){"all"==this.type_select?this.title="":"sociality"==this.type_select?this.title="เกี่ยวกับสภาพสังคม":"studying"==this.type_select?this.title="เกี่ยวกับการศึกษา":"scholarship"==this.type_select?this.title="เกี่ยวกับทุนการศึกษา":"register_system"==this.type_select?this.title="เกี่ยวกับการลงทะเบียนเรียน":"environment"==this.type_select&&(this.title="เกี่ยวกับสภาพแวดล้อม")}}},xe=Ce,ke=(s("5408"),Object(P["a"])(xe,we,$e,!1,null,null,null)),Se=ke.exports,Ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"banner"},[s("div",{staticClass:"topnav_manage"},[t._m(0),s("ul",[s("div",{staticClass:"clock",attrs:{id:"MyClockDisplay"}}),t.currentAdmin.role_manage_admin_acc?s("li",{attrs:{id:"comp1"}},[s("a",{attrs:{href:"/manageUser"}},[t._v("Manage User")])]):t._e(),t.currentAdmin.role_manage_admin_acc?s("li",{attrs:{id:"comp1"}},[s("a",{attrs:{href:"/manageforum"}},[t._v("Manage Forum")])]):t._e(),t.currentAdmin.role_manage_admin_acc?s("li",{attrs:{id:"comp1"}},[s("a",{attrs:{href:"/manageReport"}},[t._v("Manage Report")])]):t._e(),s("div",{staticClass:"dropdown"},[s("button",{staticClass:"btn btn-danger dropdown-toggle",attrs:{id:"comp3",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[s("i",{staticClass:"fa fa-user-plus"}),t._v(" "+t._s(t.currentAdmin.name)+" ")]),s("p",{staticClass:"dropdown-menu"},[s("button",{staticClass:"dropdown-item text-danger",attrs:{type:"button"},on:{click:function(e){return t.logout()}}},[t._v(" ออกจากระบบ ")])])])])])]),s("div",{staticClass:"container"},[s("div",{staticClass:"table-responsive"},[s("div",{staticClass:"table-wrapper"},[t._m(1),s("table",{staticClass:"table table-striped table-hover"},[t._m(2),s("tbody",t._l(t.Users,(function(e,a){return s("tr",{key:e._id},[s("td",[t._v(t._s(a+1))]),s("td",[t._v(" "+t._s(e.fname+" "+e.lname)+" ")]),s("td",[t._v(t._s(e.email))]),s("td",[t._v(t._s(e.studentid))]),s("td",[t._v(t._s(new Date(e.createdAt)))]),s("td",[s("a",{staticClass:"settings",attrs:{title:"Settings","data-toggle":"tooltip"},on:{click:function(s){return t.edituser(e._id,e.fname,e.lname,e.email,e.studentid)}}},[s("i",{staticClass:"material-icons"},[t._v("")])]),s("a",{attrs:{title:"Delete","data-toggle":"tooltip"},on:{click:function(s){return t.deleteUser(e._id,e.fname,e.lname)}}},[s("i",{staticClass:"material-icons",staticStyle:{color:"red"}},[t._v("")])])])])})),0)])])])]),t._m(3),s("div",{staticClass:"modal",class:{"is-active":t.showdeleteModal}},[s("div",{staticClass:"modal-background"}),s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title"},[t._v(" Are you sure to delete "+t._s(t.selectdelname)+" ? ")]),s("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(e){t.showdeleteModal=!t.showdeleteModal}}})]),s("footer",{staticClass:"modal-card-foot"},[s("button",{staticClass:"button is-success",on:{click:function(e){return t.confirmdel()}}},[t._v(" Confirm ")]),s("button",{staticClass:"button",on:{click:function(e){t.showdeleteModal=!t.showdeleteModal}}},[t._v(" Cancel ")])])])]),s("div",{staticClass:"modal",class:{"is-active":t.showEditModal}},[s("div",{staticClass:"modal-background"}),s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title"},[t._v(" Edit "+t._s(t.selecteditfname+" "+t.selecteditlname)+" ")]),s("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(e){t.showEditModal=!t.showEditModal}}})]),s("section",{staticClass:"modal-card-body"},[s("div",[s("label",{staticStyle:{"padding-right":"10px"},attrs:{for:""}},[t._v(" FIRSTNAME : ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.selecteditfname,expression:"selecteditfname"}],attrs:{type:"text"},domProps:{value:t.selecteditfname},on:{input:function(e){e.target.composing||(t.selecteditfname=e.target.value)}}})]),s("div",[s("label",{staticStyle:{"padding-right":"10px"},attrs:{for:""}},[t._v(" LASTNAME : ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.selecteditlname,expression:"selecteditlname"}],attrs:{type:"text"},domProps:{value:t.selecteditlname},on:{input:function(e){e.target.composing||(t.selecteditlname=e.target.value)}}})]),s("div",[s("label",{staticStyle:{"padding-right":"10px"},attrs:{for:""}},[t._v(" EMAIL : ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.selecteditemail,expression:"selecteditemail"}],attrs:{type:"email"},domProps:{value:t.selecteditemail},on:{input:function(e){e.target.composing||(t.selecteditemail=e.target.value)}}})]),s("div",[s("label",{staticStyle:{"padding-right":"10px"},attrs:{for:""}},[t._v(" STUDENT ID : ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.selecteditstudentid,expression:"selecteditstudentid"}],attrs:{type:"text"},domProps:{value:t.selecteditstudentid},on:{input:function(e){e.target.composing||(t.selecteditstudentid=e.target.value)}}})])]),s("footer",{staticClass:"modal-card-foot"},[s("button",{staticClass:"button is-success",on:{click:function(e){return t.saveedit()}}},[t._v("Save")]),s("button",{staticClass:"button",on:{click:function(e){t.showEditModal=!t.showEditModal}}},[t._v(" Cancel ")])])])])])},Pe=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{attrs:{href:"/admin"}},[s("img",{staticStyle:{"padding-left":"20px"},attrs:{src:"/image/navbar/newlogo.png",width:"110px",height:"auto",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"table-title"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-5"},[s("h2",[t._v("User "),s("b",[t._v("Management")])])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("#")]),s("th",[t._v("Name")]),s("th",[t._v("Email")]),s("th",[t._v("Student ID")]),s("th",[t._v("Date Created")]),s("th",[t._v("Action")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{attrs:{id:"footer"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-5"}),s("div",{staticClass:"col-md-5"},[s("div",{staticClass:"copyright",staticStyle:{"padding-top":"20px",color:"#aaa"}},[t._v(" Copyright © 2021 ExptionKMITL ")])])])])}],Ee={data:function(){return{permission:null,tokenAdmin:null,tokenUserError:null,id:"",users:[],showdeleteModal:!1,showEditModal:!1,selectdelid:null,selectdelname:null,selecteditid:null,selecteditfname:null,selecteditlname:null,selecteditemail:null,selecteditstudentid:null}},apollo:{currentAdmin:{query:Q},Users:{query:X}},created:function(){this.tokenAdmin=M.a.get("tokenAdmin"),this.tokenUserError=M.a.get("tokenUser"),this.tokenAdmin?this.permission="for admin":this.tokenUserError?(this.$swal({icon:"warning",title:"You can't access the admin, you are the user.! hahaha.",showConfirmButton:!0}),this.$router.push({name:"User"})):(this.$swal({icon:"warning",title:"กรุณาล็อกอินก่อนเข้าใช้งาน",showConfirmButton:!0}),M.a.remove("tokenUser"),M.a.remove("tokenAdmin"),this.$router.push({name:"Home"}))},methods:{logout:function(){this.id="",console.log("Log out!"),this.$router.push({name:"Home"})},edituser:function(t,e,s,a,r){this.showEditModal=!0,this.selecteditid=t,this.selecteditfname=e,this.selecteditlname=s,this.selecteditemail=a,this.selecteditstudentid=r},saveedit:function(){var t=this;this.showEditModal=!this.showEditModal,this.$apollo.mutate({mutation:et,variables:{id:this.selecteditid,data:{fname:this.selecteditfname,lname:this.selecteditlname,email:this.selecteditemail,studentid:this.selecteditstudentid}}}).then((function(e){console.log(e),t.$apollo.queries.Users.refetch().then((function(e){console.log(e),t.showEditModal=!1}))}))},deleteUser:function(t,e,s){this.showdeleteModal=!0,this.selectdelid=t,this.selectdelname=e+" "+s},confirmdel:function(){var t=this;this.$apollo.mutate({mutation:tt,variables:{deleteId:this.selectdelid}}).then((function(e){console.log(e),t.$apollo.queries.Users.refetch().then((function(e){console.log(e),t.showdeleteModal=!1}))}))}}},Ne=Ee,Le=(s("e556"),Object(P["a"])(Ne,Ae,Pe,!1,null,"0509fd97",null)),Ue=Le.exports,Ie=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"banner"},[s("div",{staticClass:"topnav_manage"},[t._m(0),s("ul",[s("div",{staticClass:"clock",attrs:{id:"MyClockDisplay"}}),t.currentAdmin.role_manage_admin_acc?s("li",{attrs:{id:"comp1"}},[s("a",{attrs:{href:"/manageUser"}},[t._v("Manage User")])]):t._e(),t.currentAdmin.role_manage_admin_acc?s("li",{attrs:{id:"comp1"}},[s("a",{attrs:{href:"/manageforum"}},[t._v("Manage Forum")])]):t._e(),t.currentAdmin.role_manage_admin_acc?s("li",{attrs:{id:"comp1"}},[s("a",{attrs:{href:"/manageReport"}},[t._v("Manage Report")])]):t._e(),s("div",{staticClass:"dropdown"},[s("button",{staticClass:"btn btn-danger  dropdown-toggle",attrs:{id:"comp3",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[s("i",{staticClass:"fa fa-user-plus"}),t._v(" "+t._s(t.currentAdmin.name)+" ")]),s("p",{staticClass:"dropdown-menu"},[s("button",{staticClass:"dropdown-item text-danger",attrs:{type:"button"},on:{click:function(e){return t.logout()}}},[t._v("ออกจากระบบ")])])])])])]),s("div",{staticClass:"box"},[t._m(1),s("hr"),s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-2"},[s("p",{staticClass:"btn btn-secondary",attrs:{type:"button",id:"button"},on:{click:function(e){t.problem_status="all"}}},[t._v("All")])]),s("div",{staticClass:"col-md-2"},[s("p",{staticClass:"btn btn-primary",attrs:{type:"button",id:"button"},on:{click:function(e){t.problem_status="Received"}}},[t._v("เรื่องร้องเรียนใหม่")])]),s("div",{staticClass:"col-md-2"},[s("p",{staticClass:"btn btn-warning",attrs:{type:"button",id:"button"},on:{click:function(e){t.problem_status="In_Progress"}}},[t._v("กำลังตรวจสอบ")])]),s("div",{staticClass:"col-md-2"},[s("p",{staticClass:"btn btn-info",attrs:{type:"button",id:"button"},on:{click:function(e){t.problem_status="Accepted"}}},[t._v("กำลังดำเนินการ")])]),s("div",{staticClass:"col-md-2"},[s("p",{staticClass:"btn btn-danger",attrs:{type:"button",id:"button"},on:{click:function(e){t.problem_status="Declined"}}},[t._v("ไม่ผ่าน")])]),s("div",{staticClass:"col-md-2"},[s("p",{staticClass:"btn btn-success",attrs:{type:"button",id:"button"},on:{click:function(e){t.problem_status="Completed"}}},[t._v("เสร็จสิ้น")])])])]),s("div",{staticClass:"row",staticStyle:{"margin-top":"20px"}},[s("div",{staticClass:"div col-md-10"},[s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-bordered table-fixed table-hover"},[t._m(2),s("tbody",t._l(t.allReport(t.Reports),(function(e,a){return s("tr",{key:e._id,class:{"table-primary":"Received"==e.submission_status,"table-warning":"In_Progress"==e.submission_status,"table-info":"Accepted"==e.submission_status,"table-success":"Completed"==e.submission_status,"table-danger":"Declined"==e.submission_status}},[s("td",{staticClass:"col-md-1",staticStyle:{height:"70px",padding:"20px 0px 20px 30px"},attrs:{scope:"col"}},[t._v(t._s(a+1))]),s("td",{staticClass:"col-md-3",staticStyle:{height:"70px",padding:"10px 0px 20px 10px"},attrs:{scope:"col"}},[t._v(t._s(e.createdAt))]),s("td",{staticClass:"col-md-3",staticStyle:{height:"70px",padding:"10px 0px 20px 10px"},attrs:{scope:"col"}},[t._v(t._s(e.type))]),s("td",{staticClass:"col-md-4",staticStyle:{height:"70px",padding:"10px 0px 20px 10px"},attrs:{scope:"col"},domProps:{innerHTML:t._s(e.topic)}}),s("td",{staticClass:"col-md-1",staticStyle:{height:"70px",padding:"20px 0px 20px 10px"},attrs:{scope:"col",id:"td_action"}},[s("a",{directives:[{name:"show",rawName:"v-show",value:"Completed"!=e.submission_status&&"Declined"!=e.submission_status,expression:"report.submission_status != 'Completed' && report.submission_status != 'Declined'"}],on:{click:function(s){return t.check_nextStatus(e._id,e.topic,e.submission_status,e.type)}}},[s("i",{staticClass:"fas fa-caret-square-right",staticStyle:{color:"blue","font-size":"20px",margin:"0px 15px 0px 5px"}})]),s("a",{directives:[{name:"show",rawName:"v-show",value:"Completed"!=e.submission_status&&"Declined"!=e.submission_status,expression:"report.submission_status != 'Completed' && report.submission_status != 'Declined'"}],on:{click:function(s){return t.check_Notpass(e._id,e.topic,e.submission_status,e.type)}}},[s("i",{staticClass:"fas fa-ban",staticStyle:{color:"red","font-size":"20px"}})]),s("a",{directives:[{name:"show",rawName:"v-show",value:"Completed"==e.submission_status,expression:"report.submission_status == 'Completed'"}],on:{click:function(s){return t.show_detail(e._id,e.type)}}},[s("i",{staticClass:"fas fa-search",staticStyle:{color:"blue","font-size":"20px",margin:"0px 15px 0px 5px"}})]),s("a",{directives:[{name:"show",rawName:"v-show",value:"Declined"==e.submission_status,expression:"report.submission_status == 'Declined'"}],on:{click:function(s){return t.check_nextStatus(e._id,e.topic,e.submission_status,e.type)}}},[s("i",{staticClass:"fas fa-undo",staticStyle:{color:"blue","font-size":"20px",margin:"0px 15px 0px 5px"}})]),s("a",{directives:[{name:"show",rawName:"v-show",value:"Completed"==e.submission_status||"Declined"==e.submission_status,expression:"report.submission_status == 'Completed' || report.submission_status == 'Declined'"}],on:{click:function(s){return t.check_delete(e._id,e.topic,e.submission_status,e.type)}}},[s("i",{staticClass:"fas fa-times-circle",staticStyle:{color:"red","font-size":"20px"}})])])])})),0)])])]),s("div",{staticClass:"div col-md-2",staticStyle:{"margin-top":"10px"}},[s("div",{staticClass:"separator"},[t._v("Filter by problem")]),s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.problem_type,expression:"problem_type"}],staticClass:"form-check-input",attrs:{type:"radio",name:"check1",id:"check1",value:"all"},domProps:{checked:t._q(t.problem_type,"all")},on:{change:function(e){t.problem_type="all"}}}),s("label",{staticClass:"form-check-label"},[t._v(" ทุกประเภท ")])]),s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.problem_type,expression:"problem_type"}],staticClass:"form-check-input",attrs:{type:"radio",name:"check1",id:"check1",value:"studying"},domProps:{checked:t._q(t.problem_type,"studying")},on:{change:function(e){t.problem_type="studying"}}}),s("label",{staticClass:"form-check-label"},[t._v(" ปัญหาด้านการเรียน ")])]),s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.problem_type,expression:"problem_type"}],staticClass:"form-check-input",attrs:{type:"radio",name:"check2",id:"check2",value:"scholarship"},domProps:{checked:t._q(t.problem_type,"scholarship")},on:{change:function(e){t.problem_type="scholarship"}}}),s("label",{staticClass:"form-check-label"},[t._v(" ปัญหาด้านทุนการศึกษา ")])]),s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.problem_type,expression:"problem_type"}],staticClass:"form-check-input",attrs:{type:"radio",name:"check3",id:"check3",value:"sociality"},domProps:{checked:t._q(t.problem_type,"sociality")},on:{change:function(e){t.problem_type="sociality"}}}),s("label",{staticClass:"form-check-label"},[t._v(" ปัญหาด้านสังคม ")])]),s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.problem_type,expression:"problem_type"}],staticClass:"form-check-input",attrs:{type:"radio",name:"check4",id:"check4",value:"register_system"},domProps:{checked:t._q(t.problem_type,"register_system")},on:{change:function(e){t.problem_type="register_system"}}}),s("label",{staticClass:"form-check-label"},[t._v(" ปัญหาด้านระบบการลงทะเบียน ")])]),s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.problem_type,expression:"problem_type"}],staticClass:"form-check-input",attrs:{type:"radio",name:"check5",id:"check5",value:"environment"},domProps:{checked:t._q(t.problem_type,"environment")},on:{change:function(e){t.problem_type="environment"}}}),s("label",{staticClass:"form-check-label"},[t._v(" ปัญหาด้านสภาพสิ่งแวดล้อม ")])]),s("hr",{attrs:{id:"hr"}})])])]),s("div",{staticClass:"modal",class:{"is-active":t.modal_nextStatus}},[s("div",{staticClass:"modal-background"}),s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title",staticStyle:{"margin-bottom":"-8px"}},[t._v("Next Status")]),s("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(e){t.modal_nextStatus=!1}}})]),s("section",{staticClass:"modal-card-body",staticStyle:{"font-size":"20px","margin-top":"-10px","margin-bottom":"-20px",color:"white"}},[s("span",[t._v("รายละเอียด")]),s("br"),s("br"),s("span",{attrs:{id:"text-head"}},[t._v("วันที่ยื่น Report")]),t._v(" : "+t._s(t.report_form_date_time)),s("br"),s("span",{attrs:{id:"text-head"}},[t._v("ประเภทของปัญหา")]),t._v(" : "+t._s(t.type_report)),s("br"),t.social_location?s("span",{attrs:{id:"text-head"}},[t._v("สถานที่ที่ร้องเรียน")]):t._e(),t.social_location?s("span",[t._v(" : "+t._s(t.social_location))]):t._e(),t.studying_subject_id?s("span",{attrs:{id:"text-head"}},[t._v("รหัสวิชาที่ร้องเรียน")]):t._e(),t.studying_subject_id?s("span",[t._v(" : "+t._s(t.studying_subject_id))]):t._e(),t.scholarship_type?s("span",{attrs:{id:"text-head"}},[t._v("ประเภทของทุนการศึกษา")]):t._e(),t.scholarship_type?s("span",[t._v(" : "+t._s(t.scholarship_type))]):t._e(),t.regis_subject?s("span",{attrs:{id:"text-head"}},[t._v("รหัสวิชาที่ร้องเรียน")]):t._e(),t.regis_subject?s("span",[t._v(" : "+t._s(t.regis_subject))]):t._e(),t.environment_location?s("span",{attrs:{id:"text-head"}},[t._v("สถานที่ที่ร้องเรียน")]):t._e(),t.environment_location?s("span",[t._v(" : "+t._s(t.environment_location))]):t._e(),s("br"),s("span",{attrs:{id:"text-head"}},[t._v("คำอธิบาย")]),t._v(" : "+t._s(t.problem_description)),s("br"),s("span",{attrs:{id:"text-head"}},[t._v("เงื่อนไขในการร้องเรียน")]),t._v(" : "+t._s(t.condition_of_submission)),s("br"),s("br"),"ไม่ผ่าน"==t.form_status_current?[t._v(' คุณต้องการที่จะส่ง Report : "'+t._s(t.form_name)+'" ไปยัง Status เริ่มต้น ?'),s("br"),t._v(" current status: "),s("span",{staticClass:"bg-danger",attrs:{id:"setcolor"}},[t._v(t._s(t.form_status_current))]),t._v(" "),s("i",{staticClass:"fas fa-arrow-right"}),t._v(" status next: "),s("span",{staticClass:"bg-primary",attrs:{id:"setcolor"}},[t._v(t._s(t.form_status_next))])]:[t._v(' คุณต้องการที่จะส่ง Report : "'+t._s(t.form_name)+'" ไปยัง Status ถัดไป?'),s("br"),t._v(" current status: "),s("span",{class:{"bg-primary":"เรื่องร้องเรียนใหม่"==t.form_status_current,"bg-warning":"กำลังตรวจสอบ"==t.form_status_current,"bg-info":"กำลังดำเนินการ"==t.form_status_current},attrs:{id:"setcolor"}},[t._v(t._s(t.form_status_current))]),s("i",{staticClass:"fas fa-arrow-right"}),t._v(" status next: "),s("span",{class:{"bg-warning":"กำลังตรวจสอบ"==t.form_status_next,"bg-info":"กำลังดำเนินการ"==t.form_status_next,"bg-success":"เสร็จสิ้น"==t.form_status_next},attrs:{id:"setcolor"}},[t._v(t._s(t.form_status_next))])],s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("p",{staticClass:"control",staticStyle:{"padding-top":"10px"}},[s("span",{staticStyle:{"padding-left":"73%"}},[s("button",{staticClass:"button",on:{click:function(e){t.modal_nextStatus=!1}}},[t._v("Cancel")])]),s("span",{staticStyle:{"padding-left":"12px"},on:{click:function(e){return t.nextStatus(t.formid_nextStatus)}}},[s("button",{staticClass:"button is-danger"},[t._v("Yes")])])])])])],2),s("footer",{staticClass:"modal-card-foot"})])]),s("div",{staticClass:"modal",class:{"is-active":t.modal_Notpass}},[s("div",{staticClass:"modal-background"}),s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title",staticStyle:{"margin-bottom":"-8px"}},[t._v("Set status is not passed")]),s("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(e){t.modal_Notpass=!1}}})]),s("section",{staticClass:"modal-card-body",staticStyle:{"font-size":"20px","margin-top":"-10px","margin-bottom":"-20px",color:"white"}},[s("span",[t._v("รายละเอียด")]),s("br"),s("br"),s("span",{attrs:{id:"text-head"}},[t._v("วันที่ยื่น Report")]),t._v(" : "+t._s(t.report_form_date_time)),s("br"),s("span",{attrs:{id:"text-head"}},[t._v("ประเภทของปัญหา")]),t._v(" : "+t._s(t.type_report)),s("br"),t.social_location?s("span",{attrs:{id:"text-head"}},[t._v("สถานที่ที่ร้องเรียน")]):t._e(),t.social_location?s("span",[t._v(" : "+t._s(t.social_location))]):t._e(),t.studying_subject_id?s("span",{attrs:{id:"text-head"}},[t._v("รหัสวิชาที่ร้องเรียน")]):t._e(),t.studying_subject_id?s("span",[t._v(" : "+t._s(t.studying_subject_id))]):t._e(),t.scholarship_type?s("span",{attrs:{id:"text-head"}},[t._v("ประเภทของทุนการศึกษา")]):t._e(),t.scholarship_type?s("span",[t._v(" : "+t._s(t.scholarship_type))]):t._e(),t.regis_subject?s("span",{attrs:{id:"text-head"}},[t._v("รหัสวิชาที่ร้องเรียน")]):t._e(),t.regis_subject?s("span",[t._v(" : "+t._s(t.regis_subject))]):t._e(),t.environment_location?s("span",{attrs:{id:"text-head"}},[t._v("สถานที่ที่ร้องเรียน")]):t._e(),t.environment_location?s("span",[t._v(" : "+t._s(t.environment_location))]):t._e(),s("br"),s("span",{attrs:{id:"text-head"}},[t._v("คำอธิบาย")]),t._v(" : "+t._s(t.problem_description)),s("br"),s("span",{attrs:{id:"text-head"}},[t._v("เงื่อนไขในการร้องเรียน")]),t._v(" : "+t._s(t.condition_of_submission)),s("br"),s("br"),t._v(' คุณต้องการที่จะส่ง Report : "'+t._s(t.form_name)+'" ไปยัง Status "ไม่ผ่าน" ?'),s("br"),t._v(" current status: "),s("span",{class:{"bg-primary":"เรื่องร้องเรียนใหม่"==t.form_status_current,"bg-warning":"กำลังตรวจสอบ"==t.form_status_current,"bg-info":"กำลังดำเนินการ"==t.form_status_current},attrs:{id:"setcolor"}},[t._v(t._s(t.form_status_current))]),t._v(" "),s("i",{staticClass:"fas fa-arrow-right"}),t._v(" status next: "),s("span",{staticClass:"bg-danger",attrs:{id:"setcolor"}},[t._v("ไม่ผ่าน")]),s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("p",{staticClass:"control",staticStyle:{"padding-top":"10px"}},[s("span",{staticStyle:{"padding-left":"73%"}},[s("button",{staticClass:"button",on:{click:function(e){t.modal_Notpass=!1}}},[t._v("Cancel")])]),s("span",{staticStyle:{"padding-left":"12px"},on:{click:function(e){return t.NotPass(t.formid_Notpass)}}},[s("button",{staticClass:"button is-danger"},[t._v("Yes")])])])])])]),s("footer",{staticClass:"modal-card-foot"})])]),s("div",{staticClass:"modal",class:{"is-active":t.modal_delete}},[s("div",{staticClass:"modal-background"}),s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title",staticStyle:{"margin-bottom":"-8px"}},[t._v("Delete Report")]),s("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(e){t.modal_delete=!1}}})]),s("section",{staticClass:"modal-card-body",staticStyle:{"font-size":"20px","margin-top":"-10px","margin-bottom":"-20px",color:"white"}},[t._v(' คุณต้องการที่จะลบ Report : "'+t._s(t.form_name)+'" status: '),s("span",{class:{"bg-danger":"ไม่ผ่าน"==t.form_status_delete,"bg-success":"เสร็จสิ้น"==t.form_status_delete},attrs:{id:"setcolor"}},[t._v(t._s(t.form_status_delete))]),t._v(" ออกจากระบบ ? "),s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("p",{staticClass:"control",staticStyle:{"padding-top":"10px"}},[s("span",{staticStyle:{"padding-left":"73%"}},[s("button",{staticClass:"button",on:{click:function(e){t.modal_delete=!1}}},[t._v("Cancel")])]),s("span",{staticStyle:{"padding-left":"12px"},on:{click:function(e){return t.deleteReport(t.formid_delete)}}},[s("button",{staticClass:"button is-danger"},[t._v("Yes")])])])])])]),s("footer",{staticClass:"modal-card-foot"})])]),s("div",{staticClass:"modal",class:{"is-active":t.modal_detail}},[s("div",{staticClass:"modal-background"}),s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title",staticStyle:{"padding-top":"20px"}},[t._v("Detail Report : "+t._s(t.report_form_topic))]),s("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(e){t.modal_detail=!1}}})]),s("section",{staticClass:"modal-card-body",staticStyle:{"font-size":"20px","font-weight":"300",color:"white"}},[s("span",{attrs:{id:"text-head"}},[t._v("วันที่ยื่น Report")]),t._v(" : "+t._s(t.report_form_date_time)),s("br"),s("span",{attrs:{id:"text-head"}},[t._v("ประเภทของปัญหา")]),t._v(" : "+t._s(t.type_report)),s("br"),t.social_location?s("span",{attrs:{id:"text-head"}},[t._v("สถานที่ที่ร้องเรียน")]):t._e(),t.social_location?s("span",[t._v(" : "+t._s(t.social_location))]):t._e(),t.studying_subject_id?s("span",{attrs:{id:"text-head"}},[t._v("รหัสวิชาที่ร้องเรียน")]):t._e(),t.studying_subject_id?s("span",[t._v(" : "+t._s(t.studying_subject_id))]):t._e(),t.scholarship_type?s("span",{attrs:{id:"text-head"}},[t._v("ประเภทของทุนการศึกษา")]):t._e(),t.scholarship_type?s("span",[t._v(" : "+t._s(t.scholarship_type))]):t._e(),t.regis_subject?s("span",{attrs:{id:"text-head"}},[t._v("รหัสวิชาที่ร้องเรียน")]):t._e(),t.regis_subject?s("span",[t._v(" : "+t._s(t.regis_subject))]):t._e(),t.environment_location?s("span",{attrs:{id:"text-head"}},[t._v("สถานที่ที่ร้องเรียน")]):t._e(),t.environment_location?s("span",[t._v(" : "+t._s(t.environment_location))]):t._e(),s("br"),s("span",{attrs:{id:"text-head"}},[t._v("คำอธิบาย")]),t._v(" : "+t._s(t.problem_description)),s("br"),s("span",{attrs:{id:"text-head"}},[t._v("เงื่อนไขในการร้องเรียน")]),t._v(" : "+t._s(t.condition_of_submission)),s("br"),s("span",{attrs:{id:"text-head"}},[t._v("สถานะของคำร้องเรียน")]),t._v(" : "),t._m(3)]),s("footer",{staticClass:"modal-card-foot"})])]),t._m(4)])},je=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{attrs:{href:"/admin"}},[s("img",{staticStyle:{"padding-left":"20px"},attrs:{src:"/image/navbar/newlogo.png",width:"110px",height:"auto",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-header text-white",staticStyle:{"text-align":"center"}},[s("h1",[t._v("Manage Report")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"thead-dark",staticStyle:{"text-align":"center"}},[s("th",{staticClass:"col-md-1",attrs:{scope:"col"}},[t._v("ID")]),s("th",{staticClass:"col-md-3",attrs:{scope:"col"}},[t._v("Date")]),s("th",{staticClass:"col-md-3",attrs:{scope:"col"}},[t._v("ประเภทเรื่องร้องเรียน")]),s("th",{staticClass:"col-md-4",attrs:{scope:"col"}},[t._v("Title")]),s("th",{staticClass:"col-md-1",attrs:{scope:"col"}},[t._v("Action")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"bg-success text-white"},[t._v("เสร็จสิ้น"),s("br")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{attrs:{id:"footer"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-5"}),s("div",{staticClass:"col-md-5"},[s("div",{staticClass:"copyright",staticStyle:{"padding-top":"20px",color:"#aaa"}},[t._v(" Copyright © 2021 ExptionKMITL ")])])])])}],qe=(s("4de4"),{data:function(){return{permission:null,tokenAdmin:null,tokenUserError:null,currentAdmin:null,currentUser:null,Reports:null,problem_type:"all",problem_status:"all",formid_nextStatus:null,formid_Notpass:null,formid_delete:null,form_status_current:null,form_status_next:null,form_status_delete:null,form_name:null,modal_nextStatus:!1,modal_Notpass:!1,modal_delete:!1,modal_detail:!1,report_form_date_time:null,report_form_topic:null,report_type:null,social_location:null,studying_subject_id:null,scholarship_type:null,regis_subject:null,environment_location:null,problem_description:null,condition_of_submission:null,status_report:null}},apollo:{currentAdmin:{query:Q},currentUser:{query:W},Reports:{query:J}},created:function(){this.tokenAdmin=M.a.get("tokenAdmin"),this.tokenUserError=M.a.get("tokenUser"),this.tokenAdmin?this.permission="for admin":this.tokenUserError?(this.$swal({icon:"warning",title:"You can't access the admin, you are the user.! hahaha.",showConfirmButton:!0}),this.$router.push({name:"User"})):(this.$swal({icon:"warning",title:"กรุณาล็อกอินก่อนเข้าใช้งาน",showConfirmButton:!0}),M.a.remove("tokenUser"),M.a.remove("tokenAdmin"),this.$router.push({name:"Home"}))},methods:{logout:function(){console.log("Log out!"),M.a.remove("tokenAdmin"),M.a.remove("tokenUser"),this.$router.push({name:"Home"})},allReport:function(t){var e=this;return"all"==this.problem_status&&"all"==this.problem_type?(console.log("all"),t):"all"!=this.problem_status&&"all"==this.problem_type?(console.log("status"),t.filter((function(t){return t.submission_status==e.problem_status}))):"all"==this.problem_status&&"all"!=this.problem_type?(console.log("type"),t.filter((function(t){return t.type==e.problem_type}))):"all"!=this.problem_status&&"all"!=this.problem_type?(console.log("status and type"),t.filter((function(t){return t.type==e.problem_type&&t.submission_status==e.problem_status}))):void 0},check_nextStatus:function(t,e,s,a){this.formid_nextStatus=t,this.form_name=e,this.setShowDetail(t,a),"Received"==s&&(this.form_status_current="เรื่องร้องเรียนใหม่",this.form_status_next="กำลังตรวจสอบ"),"In_Progress"==s&&(this.form_status_current="กำลังตรวจสอบ",this.form_status_next="กำลังดำเนินการ"),"Accepted"==s&&(this.form_status_current="กำลังดำเนินการ",this.form_status_next="เสร็จสิ้น"),"Declined"==s&&(this.form_status_current="ไม่ผ่าน",this.form_status_next="เรื่องร้องเรียนใหม่"),this.modal_nextStatus=!0},check_Notpass:function(t,e,s,a){this.formid_Notpass=t,this.form_name=e,this.setShowDetail(t,a),"Received"==s&&(this.form_status_current="เรื่องร้องเรียนใหม่"),"In_Progress"==s&&(this.form_status_current="กำลังตรวจสอบ"),"Accepted"==s&&(this.form_status_current="กำลังดำเนินการ"),this.modal_Notpass=!0},check_delete:function(t,e,s,a){this.formid_delete=t,this.form_name=e,this.setShowDetail(t,a),"Completed"==s&&(this.form_status_delete="เสร็จสิ้น"),"Declined"==s&&(this.form_status_delete="ไม่ผ่าน"),this.modal_delete=!0},nextStatus:function(t){var e=this,s="";"เรื่องร้องเรียนใหม่"==this.form_status_current?s="In_Progress":"กำลังตรวจสอบ"==this.form_status_current?s="Accepted":"กำลังดำเนินการ"==this.form_status_current?s="Completed":"ไม่ผ่าน"==this.form_status_current&&(s="Received"),this.$apollo.mutate({mutation:at,variables:{id:t,record:{submission_status:s}}}).then((function(){e.$apollo.queries.Reports.refetch(),e.modal_nextStatus=!1}))},NotPass:function(t){var e=this;this.$apollo.mutate({mutation:at,variables:{id:t,record:{submission_status:"Declined"}}}).then((function(){e.$apollo.queries.Reports.refetch(),e.modal_Notpass=!1}))},deleteReport:function(t){var e=this;this.$apollo.mutate({mutation:rt,variables:{id:t}}).then((function(){e.$apollo.queries.Reports.refetch(),e.modal_delete=!1}))},thaiCommission:function(t){return"Not_Urgent"==t?"ไม่ด่วน":"Urgent"==t?"ด่วน":void 0},thaiType:function(t){return"sociality"==t?t="สภาพสังคม":"studying"==t?t="การศึกษา":"scholarship"==t?t="ทุนการศึกษา":"register_system"==t?t="การลงทะเบียนเรียน":"environment"==t&&(t="สภาพแวดล้อม"),t},changeDate:function(t){return new Date(t).toLocaleString("th-TH")},setShowDetail:function(t,e){this.social_location=null,this.studying_subject_id=null,this.scholarship_type=null,this.regis_subject=null,this.environment_location=null;var s=this.Reports.filter((function(e){return e._id==t}))[0];"sociality"==e?this.social_location=s.target:"studying"==e?this.studying_subject_id=s.target:"scholarship"==e?this.scholarship_type=s.target:"register_system"==e?this.regis_subject=s.target:"environment"==e&&(this.environment_location=s.target),this.report_form_date_time=this.changeDate(s.createdAt),this.report_form_topic=s.topic,this.type_report=this.thaiType(s.type),this.problem_description=s.description,this.condition_of_submission=this.thaiCommission(s.condition_of_submission),this.status_report=s.submission_status},show_detail:function(t,e){this.setShowDetail(t,e),this.modal_detail=!0}}}),Re=qe,Fe=(s("677d"),Object(P["a"])(Re,Ie,je,!1,null,"188f656b",null)),De=Fe.exports,Oe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"body"}},[s("div",{staticClass:"banner"},[s("div",{staticClass:"topnav_manage"},[t._m(0),s("ul",[s("div",{staticClass:"clock",attrs:{id:"MyClockDisplay"}}),t.currentAdmin.role_manage_admin_acc?s("li",{attrs:{id:"comp1"}},[s("a",{attrs:{href:"/manageUser"}},[t._v("Manage User")])]):t._e(),t.currentAdmin.role_manage_admin_acc?s("li",{attrs:{id:"comp1"}},[s("a",{attrs:{href:"/manageforum"}},[t._v("Manage Forum")])]):t._e(),t.currentAdmin.role_manage_admin_acc?s("li",{attrs:{id:"comp1"}},[s("a",{attrs:{href:"/manageReport"}},[t._v("Manage Report")])]):t._e(),s("div",{staticClass:"dropdown"},[s("button",{staticClass:"btn btn-danger  dropdown-toggle",attrs:{id:"comp3",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[s("i",{staticClass:"fa fa-user-plus"}),t._v(" "+t._s(t.currentAdmin.name)+" ")]),s("p",{staticClass:"dropdown-menu"},[s("button",{staticClass:"dropdown-item text-danger",attrs:{type:"button"},on:{click:function(e){return t.logout()}}},[t._v(" ออกจากระบบ ")])])])])])]),s("div",{staticClass:"container",attrs:{id:"all_forum_manage"}},[s("p",{attrs:{id:"forum_manage_title"}},[t._v("Manage forum")]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-9"},[s("table",{staticClass:"table",attrs:{id:"forum_manage_table"}},[t._m(1),s("tbody",t._l(t.Forums,(function(e,a){return s("tr",{directives:[{name:"show",rawName:"v-show",value:t.typeselect==e.type||"all"==t.typeselect,expression:"typeselect == forum.type || typeselect == 'all'"}],key:e._id},[s("td",{attrs:{id:"table_body"}},[t._v(t._s(a+1))]),s("td",{attrs:{colspan:"2",id:"table_body"}},[t._v(t._s(e.topic))]),s("td",{attrs:{id:"table_body"}},[s("button",{staticClass:"btn btn-primary",attrs:{"data-toggle":"modal","data-target":".picture-modal-xl"},on:{click:function(s){return t.gotopicture(e.image_path,e.topic)}}},[t._v(" click here ")])]),s("td",{attrs:{id:"table_body"}},[s("button",{staticClass:"btn btn-success",attrs:{id:"btn","data-toggle":"modal","data-target":".edit-modal-xl"},on:{click:function(s){return t.editopen(e)}}},[t._v(" Edit ")]),s("button",{staticClass:"btn btn-danger",attrs:{id:"btn","data-toggle":"modal","data-target":"#deleteforum"},on:{click:function(s){return t.deleteopen(e)}}},[t._v(" Delete ")])])])})),0)])]),s("div",{staticClass:"col-3",attrs:{id:"forum_type"}},[s("p",{attrs:{id:"forum_manage_type_title"}},[t._v("เลือกประเภทของ forum")]),s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.typeselect,expression:"typeselect"}],staticClass:"form-check-input",attrs:{type:"radio",id:"education_checkbox",value:"all"},domProps:{checked:t._q(t.typeselect,"all")},on:{change:function(e){t.typeselect="all"}}}),s("label",{staticClass:"form-check-label",attrs:{for:"education_checkbox"}},[t._v("เลือกทั้งหมด")])]),s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.typeselect,expression:"typeselect"}],staticClass:"form-check-input",attrs:{type:"radio",id:"education_checkbox",value:"studying"},domProps:{checked:t._q(t.typeselect,"studying")},on:{change:function(e){t.typeselect="studying"}}}),s("label",{staticClass:"form-check-label",attrs:{for:"education_checkbox"}},[t._v("การศึกษา (Studying)")])]),s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.typeselect,expression:"typeselect"}],staticClass:"form-check-input",attrs:{type:"radio",id:"education_checkbox",value:"sociality"},domProps:{checked:t._q(t.typeselect,"sociality")},on:{change:function(e){t.typeselect="sociality"}}}),s("label",{staticClass:"form-check-label",attrs:{for:"education_checkbox"}},[t._v("สภาพสังคม (Sociality) ")])]),s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.typeselect,expression:"typeselect"}],staticClass:"form-check-input",attrs:{type:"radio",id:"education_checkbox",value:"environment"},domProps:{checked:t._q(t.typeselect,"environment")},on:{change:function(e){t.typeselect="environment"}}}),s("label",{staticClass:"form-check-label",attrs:{for:"education_checkbox"}},[t._v("สภาพแวดล้อม (environment) ")])]),s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.typeselect,expression:"typeselect"}],staticClass:"form-check-input",attrs:{type:"radio",id:"education_checkbox",value:"register_system"},domProps:{checked:t._q(t.typeselect,"register_system")},on:{change:function(e){t.typeselect="register_system"}}}),s("label",{staticClass:"form-check-label",attrs:{for:"education_checkbox"}},[t._v("การลงทะเบียนเรียน (Register) ")])]),s("div",{staticClass:"form-check",staticStyle:{"margin-bottom":"4%"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.typeselect,expression:"typeselect"}],staticClass:"form-check-input",attrs:{type:"radio",id:"education_checkbox",value:"scholarship"},domProps:{checked:t._q(t.typeselect,"scholarship")},on:{change:function(e){t.typeselect="scholarship"}}}),s("label",{staticClass:"form-check-label",attrs:{for:"education_checkbox"}},[t._v("ทุนการศึกษา (Scholarship) ")])]),s("button",{staticClass:"btn btn-success",attrs:{id:"btn_create","data-toggle":"modal","data-target":".create-modal-xl"},on:{click:t.close_modal_button}},[t._v(" Create ")])])])]),s("div",{staticClass:"modal fade picture-modal-xl",attrs:{tabindex:"-1",role:"dialog","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-xl"},[s("div",{staticClass:"modal-content",attrs:{id:"allmodal"}},[s("p",{attrs:{id:"modal_title"}},[t._v(t._s(t.forum_topic))]),s("img",{attrs:{src:t.image_address}})])])]),s("div",{staticClass:"modal fade create-modal-xl",attrs:{tabindex:"-1",role:"dialog","aria-hidden":"true",id:"createmodal"}},[s("div",{staticClass:"modal-dialog modal-xl"},[s("div",{staticClass:"modal-content",attrs:{id:"allmodal"}},[s("p",{attrs:{id:"modal_title"}},[t._v("สร้างข่าวประชาสัมพันธ์ใหม่")]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-1 col-form-label",attrs:{for:"inputtopic"}},[t._v("หัวข้อ")]),s("div",{staticClass:"col-sm-11"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.forum_topic.$model,expression:"$v.forum_topic.$model"}],staticClass:"form-control",class:{"is-invalid":t.$v.forum_topic.$error},attrs:{type:"text",id:"inputtopic",placeholder:"ใส่หัวข้อที่นี่"},domProps:{value:t.$v.forum_topic.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.forum_topic,"$model",e.target.value)}}}),t.$v.forum_topic.$error?[t.$v.forum_topic.required?t._e():s("p",{attrs:{id:"error-message"}},[t._v(" *กรุณาเติมข้อมูลในช่องนี้ ")]),t.$v.forum_topic.minLength?t._e():s("p",{attrs:{id:"error-message"}},[t._v(" *เนื้อหาควรมีความยาวไม่ต่ำกว่า 10 ตัวอักษร ")]),t.$v.forum_topic.maxLength?t._e():s("p",{attrs:{id:"error-message"}},[t._v(" *เนื้อหาควรมีความยาวไม่เกิน 255 ตัวอักษร ")])]:t._e()],2)]),s("br"),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"report_topic"}},[t._v("เนื้อหา")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.$v.forum_description.$model,expression:"$v.forum_description.$model"}],staticClass:"form-control",class:{"is-invalid":t.$v.forum_description.$error},attrs:{id:"report_description",rows:"5","aria-describedby":"reporttopichelp",placeholder:"ใส่เนื้อหาที่นี่"},domProps:{value:t.$v.forum_description.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.forum_description,"$model",e.target.value)}}}),t.$v.forum_description.$error?[t.$v.forum_description.required?t._e():s("p",{attrs:{id:"error-message"}},[t._v(" *กรุณาเติมข้อมูลในช่องนี้ ")]),t.$v.forum_description.minLength?t._e():s("p",{attrs:{id:"error-message"}},[t._v(" *เนื้อหาควรมีความยาวไม่ต่ำกว่า 50 ตัวอักษร ")])]:t._e()],2),s("br"),s("div",{staticClass:"form-group"},[s("p",[t._v("ประเภท")]),s("button",{staticClass:"btn",class:{"btn-primary":"studying"==t.forum_type,"btn-secondary":"studying"!=t.forum_type},attrs:{id:"type_button"},on:{click:function(e){t.forum_type="studying"}}},[t._v(" การศึกษา ")]),s("button",{staticClass:"btn",class:{"btn-primary":"sociality"==t.forum_type,"btn-secondary":"sociality"!=t.forum_type},attrs:{id:"type_button"},on:{click:function(e){t.forum_type="sociality"}}},[t._v(" สภาพสังคม ")]),s("button",{staticClass:"btn",class:{"btn-primary":"environment"==t.forum_type,"btn-secondary":"environment"!=t.forum_type},attrs:{id:"type_button"},on:{click:function(e){t.forum_type="environment"}}},[t._v(" สภาพแวดล้อม ")]),s("button",{staticClass:"btn",class:{"btn-primary":"register_system"==t.forum_type,"btn-secondary":"register_system"!=t.forum_type},attrs:{id:"type_button"},on:{click:function(e){t.forum_type="register_system"}}},[t._v(" การลงทะเบียน ")]),s("button",{staticClass:"btn",class:{"btn-primary":"scholarship"==t.forum_type,"btn-secondary":"scholarship"!=t.forum_type},attrs:{id:"type_button"},on:{click:function(e){t.forum_type="scholarship"}}},[t._v(" ทุนการศึกษา ")])]),t.$v.forum_type.$error?[t.$v.forum_type.required?t._e():s("p",{attrs:{id:"error-message"}},[t._v(" *กรุณาเติมข้อมูลในช่องนี้ ")])]:t._e(),s("br"),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputtopic"}},[t._v("Link รูปภาพประกอบ")]),s("div",{staticClass:"col-sm-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.image_address.$model,expression:"$v.image_address.$model"}],staticClass:"form-control",class:{"is-invalid":t.$v.image_address.$error},attrs:{type:"text",id:"inputtopic",placeholder:"ใส่ลิ้งค์ที่นี่"},domProps:{value:t.$v.image_address.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.image_address,"$model",e.target.value)}}}),t.$v.image_address.$error?[t.$v.image_address.required?t._e():s("p",{attrs:{id:"error-message"}},[t._v(" *กรุณาเติมข้อมูลในช่องนี้ ")]),t.$v.image_address.url?t._e():s("p",{attrs:{id:"error-message"}},[t._v(" *ต้องใส่เป็น url เท่านั้น ")])]:t._e()],2)]),s("br"),s("div",{staticClass:"form-group"},[s("p",[t._v("ประเภท")]),s("button",{staticClass:"btn btn-success",attrs:{id:"submit_btn","data-dismiss":"modal"},on:{click:t.realcreate}},[t._v(" สร้าง ")]),s("button",{staticClass:"btn btn-secondary",attrs:{id:"submit_btn","data-dismiss":"modal"},on:{click:t.close_modal_button}},[t._v(" ปิด ")])])],2)])]),s("div",{staticClass:"modal fade edit-modal-xl",attrs:{tabindex:"-1",role:"dialog","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-xl"},[s("div",{staticClass:"modal-content",attrs:{id:"allmodal"}},[s("p",{attrs:{id:"modal_title"}},[t._v("การแก้ไขข่าวประชาสัมพันธ์")]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-1 col-form-label",attrs:{for:"inputtopic"}},[t._v("หัวข้อ")]),s("div",{staticClass:"col-sm-11"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.forum_topic.$model,expression:"$v.forum_topic.$model"}],staticClass:"form-control",class:{"is-invalid":t.$v.forum_topic.$error},attrs:{type:"text",id:"inputtopic",placeholder:"ใส่หัวข้อที่นี่"},domProps:{value:t.$v.forum_topic.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.forum_topic,"$model",e.target.value)}}})]),t.$v.forum_topic.$error?[t.$v.forum_topic.required?t._e():s("p",{attrs:{id:"error-message"}},[t._v(" *กรุณาเติมข้อมูลในช่องนี้ ")]),t.$v.forum_topic.minLength?t._e():s("p",{attrs:{id:"error-message"}},[t._v(" *หัวข้อควรมีความยาวไม่ต่ำกว่า 10 ตัวอักษร ")]),t.$v.forum_topic.maxLength?t._e():s("p",{attrs:{id:"error-message"}},[t._v(" *เนื้อหาควรมีความยาวไม่เกิน 255 ตัวอักษร ")])]:t._e()],2),s("br"),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"report_topic"}},[t._v("เนื้อหา")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.$v.forum_description.$model,expression:"$v.forum_description.$model"}],staticClass:"form-control",class:{"is-invalid":t.$v.forum_description.$error},attrs:{id:"report_description",rows:"5","aria-describedby":"reporttopichelp",placeholder:"ใส่เนื้อหาที่นี่"},domProps:{value:t.$v.forum_description.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.forum_description,"$model",e.target.value)}}}),t.$v.forum_description.$error?[t.$v.forum_description.required?t._e():s("p",{attrs:{id:"error-message"}},[t._v(" *กรุณาเติมข้อมูลในช่องนี้ ")]),t.$v.forum_description.minLength?t._e():s("p",{attrs:{id:"error-message"}},[t._v(" *เนื้อหาควรมีความยาวไม่ต่ำกว่า 50 ตัวอักษร ")])]:t._e()],2),s("br"),s("div",{staticClass:"form-group"},[s("p",[t._v("ประเภท")]),s("button",{staticClass:"btn",class:{"btn-primary":"studying"==t.forum_type,"btn-secondary":"studying"!=t.forum_type},attrs:{id:"type_button"},on:{click:function(e){t.forum_type="studying"}}},[t._v(" การศึกษา ")]),s("button",{staticClass:"btn",class:{"btn-primary":"sociality"==t.forum_type,"btn-secondary":"sociality"!=t.forum_type},attrs:{id:"type_button"},on:{click:function(e){t.forum_type="sociality"}}},[t._v(" สภาพสังคม ")]),s("button",{staticClass:"btn",class:{"btn-primary":"environment"==t.forum_type,"btn-secondary":"environment"!=t.forum_type},attrs:{id:"type_button"},on:{click:function(e){t.forum_type="environment"}}},[t._v(" สภาพแวดล้อม ")]),s("button",{staticClass:"btn",class:{"btn-primary":"register_system"==t.forum_type,"btn-secondary":"register_system"!=t.forum_type},attrs:{id:"type_button"},on:{click:function(e){t.forum_type="register_system"}}},[t._v(" การลงทะเบียน ")]),s("button",{staticClass:"btn",class:{"btn-primary":"scholarship"==t.forum_type,"btn-secondary":"scholarship"!=t.forum_type},attrs:{id:"type_button"},on:{click:function(e){t.forum_type="scholarship"}}},[t._v(" ทุนการศึกษา ")])]),t.$v.forum_type.$error?[t.$v.forum_type.required?t._e():s("p",{attrs:{id:"error-message"}},[t._v(" *กรุณาเติมข้อมูลในช่องนี้ ")])]:t._e(),s("br"),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"inputtopic"}},[t._v("Link รูปภาพประกอบ")]),s("div",{staticClass:"col-sm-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.image_address.$model,expression:"$v.image_address.$model"}],staticClass:"form-control",class:{"is-invalid":t.$v.image_address.$error},attrs:{type:"text",id:"inputtopic",placeholder:"ใส่ลิ้งค์ที่นี่"},domProps:{value:t.$v.image_address.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.image_address,"$model",e.target.value)}}})]),t.$v.image_address.$error?[t.$v.image_address.required?t._e():s("p",{attrs:{id:"error-message"}},[t._v(" *กรุณาเติมข้อมูลในช่องนี้ ")]),t.$v.image_address.url?t._e():s("p",{attrs:{id:"error-message"}},[t._v(" *ต้องใส่เป็น url เท่านั้น ")])]:t._e()],2),s("br"),s("div",{staticClass:"form-group"},[s("p",[t._v("ประเภท")]),s("button",{staticClass:"btn btn-success",attrs:{id:"submit_btn","data-dismiss":"modal"},on:{click:t.realedit}},[t._v(" แก้ไข ")]),s("button",{staticClass:"btn btn-secondary",attrs:{id:"submit_btn","data-dismiss":"modal"},on:{click:function(e){return t.close_modal_button()}}},[t._v(" ปิด ")])])],2)])]),s("div",{staticClass:"modal fade",attrs:{id:"deleteforum",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(" ต้องการลบข่าวประชาสัมพันธ์เรื่อง"),s("br"),t._v('"'+t._s(t.forum_topic)+'" หรือไม่ ')]),t._m(2)]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.close_modal_button}},[t._v(" ปิด ")]),s("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.realdelete()}}},[t._v(" ลบ ")])])])])]),t._m(3)])},Me=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{attrs:{href:"/admin"}},[s("img",{staticStyle:{"padding-left":"20px"},attrs:{src:"/image/navbar/newlogo.png",width:"110px",height:"auto",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{attrs:{id:"table_head"}},[t._v("Forum ID")]),s("th",{attrs:{colspan:"2",id:"table_head"}},[t._v("Forum Title")]),s("th",{attrs:{id:"table_head"}},[t._v("Forum picture link")]),s("th",{attrs:{colspan:"2",id:"table_head"}},[t._v("Action")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{attrs:{id:"footer"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-5"}),s("div",{staticClass:"col-md-5"},[s("div",{staticClass:"copyright",staticStyle:{"padding-top":"20px",color:"#aaa"}},[t._v(" Copyright © 2021 ExptionKMITL ")])])])])}],ze={data:function(){return{permission:null,tokenAdmin:null,tokenUserError:null,allforum:[],forum_id:"",forum_topic:"",forum_description:"",forum_type:"",image_address:"",typeselect:"all"}},apollo:{currentAdmin:{query:Q},Forums:{query:V}},validations:{forum_topic:{required:ft["required"],minLength:Object(ft["minLength"])(10),maxLength:Object(ft["maxLength"])(255)},forum_description:{required:ft["required"],minLength:Object(ft["minLength"])(50)},forum_type:{required:ft["required"]},image_address:{required:ft["required"],url:ft["url"]}},created:function(){this.tokenAdmin=M.a.get("tokenAdmin"),this.tokenUserError=M.a.get("tokenUser"),this.tokenAdmin?this.permission="for admin":this.tokenUserError?(this.$swal({icon:"warning",title:"You can't access the admin, you are the user.! hahaha.",showConfirmButton:!0}),this.$router.push({name:"User"})):(this.$swal({icon:"warning",title:"กรุณาล็อกอินก่อนเข้าใช้งาน",showConfirmButton:!0}),M.a.remove("tokenUser"),M.a.remove("tokenAdmin"),this.$router.push({name:"Home"}))},methods:{logout:function(){console.log("Log out!"),M.a.remove("tokenUser"),M.a.remove("tokenAdmin"),this.$router.push({name:"Home"})},gotopicture:function(t,e){this.image_address=t,this.forum_topic=e},valiaftersubmit:function(){var t="";this.$v.forum_topic.required?this.$v.forum_topic.minLength?this.$v.forum_topic.maxLength?this.$v.forum_description.required?this.$v.forum_description.minLength?this.$v.forum_type.required?this.$v.image_address.required?this.$v.image_address.url||(t="ลิ้งค์รูปภาพประกอบต้องใส่เป็น url เท่านั้น"):t="กรุณาใส่ลิ้งค์รูปภาพประกอบ":t="กรุณาเลือกประเภทข่าวประชาสัมพันธ์":t="หัวข้อข่าวประชาสัมพันธ์ต้องมีความยาวไม่ต่ำกว่า 50 ตัวอักษร":t="กรุณาใส่เนื้อหาข่าวประชาสัมพันธ์":t="หัวข้อข่าวประชาสัมพันธ์ต้องมีความยาวไม่เกิน 255 ตัวอักษร":t="หัวข้อข่าวประชาสัมพันธ์ต้องมีความยาวไม่ต่ำกว่า 10 ตัวอักษร":t="กรุณาใส่หัวข้อข่าวประชาสัมพันธ์",this.$v.$error&&this.$swal({title:"ไม่สามารถสร้าง/แก้ไขข่าวประชาสัมพันธ์",text:t,icon:"error",confirmButtonText:"ดำเนินการต่อ"})},realcreate:function(){var t=this;this.$v.$touch(),this.valiaftersubmit(),this.$v.$invalid||this.$apollo.mutate({mutation:it,variables:{data:{topic:this.forum_topic,type:this.forum_type,description:this.forum_description,image_path:this.image_address,author_id:this.currentAdmin._id}}}).then((function(){t.$apollo.queries.Forums.refetch().then((function(){t.$swal({title:"เพิ่มข่าวประชาสัมพันธ์สำเร็จ",icon:"success"}),t.close_modal_button}))}))},editopen:function(t){this.forum_id=t._id,this.forum_topic=t.topic,this.forum_description=t.description,this.forum_type=t.type,this.image_address=t.image_path},realedit:function(){var t=this;this.$v.$touch(),this.valiaftersubmit(),this.$v.$invalid||this.$apollo.mutate({mutation:st,variables:{id:this.forum_id,data:{topic:this.forum_topic,type:this.forum_type,description:this.forum_description,image_path:this.image_address}}}).then((function(e){console.log(e),t.$apollo.queries.Forums.refetch().then((function(e){console.log(e),t.close_modal_button}))}))},deleteopen:function(t){this.forum_topic=t.topic,this.forum_id=t._id},realdelete:function(){var t=this;this.$apollo.mutate({mutation:ot,variables:{id:this.forum_id}}).then((function(){t.$apollo.queries.Forums.refetch().then((function(){t.$swal({title:"ลบข่าวประชาสัมพันธ์สำเร็จ",icon:"success"}),t.close_modal_button}))}))},close_modal_button:function(){this.forum_topic="",this.forum_description="",this.forum_type="การศึกษา",this.image_address=""}},watch:{typeselect:function(){}}},Be=ze,Te=(s("2ca5"),Object(P["a"])(Be,Oe,Me,!1,null,"4af2d96e",null)),Ke=Te.exports;C["a"].use(L["a"]);var He=[{path:"/",name:"Home",component:pt},{path:"/user",name:"User",component:wt},{path:"/admin",name:"Admin",component:Pt},{path:"/login",name:"Login",component:jt},{path:"/register",name:"Register",component:Bt},{path:"/forum",name:"Forum",component:ee},{path:"/forum/page",name:"Forumpage",component:ne},{path:"/reportform",name:"Reportform",component:pe},{path:"/reportform/createreport",name:"createreport",component:ye},{path:"/trackingstatus",name:"Tracking",component:Se},{path:"/forgotpassword",name:"Forgot",component:Jt},{path:"/manageUser",name:"Manage_acc",component:Ue},{path:"/manageReport",name:"manageReport",component:De},{path:"/manageforum",name:"forummanage",component:Ke}],We=new L["a"]({mode:"history",base:"/",routes:He}),Ye=We,Ze=s("1dce"),Je=s.n(Ze),Ve=s("5886"),Ge=(s("92c6"),s("4989"),s("ab8b"),s("4413"),s("ff84"),s("d730"),s("15f5"),s("7051"),s("74ca")),Qe=s("478e"),Xe=s("2bf2"),ts=s("522d"),es=new Qe["a"]({uri:"http://localhost:3001/graphql",credentials:"include"}),ss=new Ge["a"]({link:es,cache:new Xe["a"]});C["a"].config.productionTip=!1,C["a"].use(Ve["a"]),C["a"].use(Je.a),C["a"].use(ts["a"]);var as=new ts["a"]({defaultClient:ss});new C["a"]({router:Ye,apolloProvider:as,render:function(t){return t(N)}}).$mount("#app")},"677d":function(t,e,s){"use strict";s("12f3")},"6ccb":function(t,e,s){"use strict";s("cfab")},7459:function(t,e,s){},7837:function(t,e,s){"use strict";s("802d")},7927:function(t,e,s){"use strict";s("7ca6")},"793d":function(t,e,s){},"7ca6":function(t,e,s){},"802d":function(t,e,s){},8288:function(t,e,s){},"881f":function(t,e,s){"use strict";s("a8d2")},9560:function(t,e,s){},"9b93":function(t,e,s){},a8d2:function(t,e,s){},ac1d:function(t,e,s){"use strict";s("8288")},af0d:function(t,e,s){"use strict";s("7459")},b269:function(t,e,s){"use strict";s("793d")},b916:function(t,e,s){},c47b:function(t,e,s){},c606:function(t,e,s){"use strict";s("b916")},ce54:function(t,e,s){},cfab:function(t,e,s){},d48e:function(t,e,s){"use strict";s("c47b")},d730:function(t,e,s){},e556:function(t,e,s){"use strict";s("4dfd")},ff84:function(t,e,s){}});
//# sourceMappingURL=app.21cee2b9.js.map